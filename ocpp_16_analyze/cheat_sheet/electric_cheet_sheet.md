# ⚡ 전기 기초 개념 - EV 충전 완벽 이해

> **목적**: OCPP MeterValues 이해를 위한 전기 기초 지식  
> **대상**: 개발자, PM  
> **작성일**: 2026-01-13

---

## 📚 목차

1. [전력량 vs 전력](#1-전력량-vs-전력)
2. [전류 vs 전력](#2-전류-vs-전력)
3. [전압이란?](#3-전압이란)
4. [3상 vs 단상](#4-3상-vs-단상)
5. [실전 계산 예시](#5-실전-계산-예시)

---

## 1️⃣ 전력량 vs 전력

### 🔋 **전력량 (Energy) - kWh**

**의미**: "얼마나 많이" 사용했는가 (누적량)

**단위**: kWh (킬로와트시)

**비유**: 자동차의 **총 주행거리** 📏

```
전력량 = 전력 × 시간
kWh = kW × hour
```

**실생활 예시**:

- "이번 달 전기 500kWh 사용했어요" (요금 청구 기준)
- 충전기로 50kWh 충전 → 전기차 배터리에 "담긴" 에너지

---

### ⚡ **전력 (Power) - kW**

**의미**: "얼마나 빠르게" 사용하는가 (속도)

**단위**: kW (킬로와트)

**비유**: 자동차의 **현재 속도** 🚗💨

**실생활 예시**:

- "이 충전기는 50kW 출력이에요" (충전 속도)
- "지금 7kW로 충전 중" (현재 얼마나 빠르게 에너지가 들어가는지)

---

### 📊 비교표

| 구분 | 전력 (Power) | 전력량 (Energy) |
|------|-------------|----------------|
| **단위** | kW (킬로와트) | kWh (킬로와트시) |
| **의미** | 순간 속도 | 누적 사용량 |
| **측정** | 현재 소비/공급 속도 | 총 소비/공급량 |
| **비유** | 속도계 (km/h) | 주행거리 (km) |
| **과금** | ❌ 과금 기준 아님 | ✅ 과금 기준 |
| **OCPP** | `Power.Active.Import` | `Energy.Active.Import.Register` |

---

### 🧮 계산 예시

#### 예시 1: 50kW 충전기로 30분 충전

```
전력량 = 전력 × 시간
      = 50kW × 0.5시간
      = 25kWh (배터리에 충전된 양)
```

#### 예시 2: 7kW 충전기로 6시간 충전

```
전력량 = 7kW × 6시간
      = 42kWh
```

#### 예시 3: 과금 계산

```
사용 전력량: 42kWh
요금: 300원/kWh

총 요금 = 42kWh × 300원/kWh = 12,600원
```

---

### 💡 핵심 정리

```
┌─────────────┐
│  전력 (kW)  │ ← "속도" (얼마나 빠르게)
│   Power     │
└──────┬──────┘
       │
       │ ×  시간 (hour)
       │
┌──────▼──────┐
│ 전력량(kWh) │ ← "거리" (얼마나 많이)
│   Energy    │
└─────────────┘

전력량 = 전력 × 시간
kWh = kW × h
```

---

## 2️⃣ 전류 vs 전력

### 🌊 **전류 (Current) - A (암페어)**

**의미**: 전기가 **흐르는 양** (물의 유속처럼)

**단위**: A (암페어, Ampere)

**비유**: 수도관에서 **물이 흐르는 속도** 💧

---

### ⚡ **전력 (Power) - W (와트)**

**의미**: 실제 **일을 하는 능력** (에너지 전달 속도)

**단위**: W (와트), kW (킬로와트)

**비유**: **수차가 돌아가는 힘** ⚙️

---

### 📐 관계식

```
전력 = 전압 × 전류
P = V × I

kW = V × A ÷ 1000
```

**구체적 예시**:

#### 단상 (Single-phase):

```
전압(V) = 220V
전류(A) = 32A

전력(P) = 220V × 32A = 7,040W = 7kW
```

#### 3상 (Three-phase):

```
선간 전압(V) = 400V
전류(A) = 80A

전력(P) = √3 × 400V × 80A ≈ 55,400W ≈ 55kW
        (√3 ≈ 1.732는 3상 계산 계수)
```

---

### 🔌 실제 충전 시나리오

**완속 충전 (7kW)**:

```
전압: 220V (단상)
전류: 32A
전력: 220V × 32A = 7,040W ≈ 7kW
```

**급속 충전 (50kW)**:

```
전압: 400V (3상)
전류: 80A
전력: √3 × 400V × 80A ≈ 55kW
```

---

### 📊 비교표

| 구분 | 전류 (Current) | 전력 (Power) |
|------|---------------|-------------|
| **단위** | A (암페어) | W (와트), kW |
| **의미** | 전기 흐름의 양 | 실제 일하는 능력 |
| **비유** | 물의 유속 | 수차의 회전력 |
| **공식** | I = P ÷ V | P = V × I |
| **측정** | 케이블에 흐르는 전류 | 실제 소비/공급되는 힘 |
| **안전** | 케이블 용량 기준 | 기기 용량 기준 |
| **OCPP** | `Current.Import` | `Power.Active.Import` |

---

### ❓ 왜 둘 다 측정하나?

#### 1. **전류 (A)**:

- **안전 관리** - 케이블이 견딜 수 있는지 확인
- 과전류 방지
- 차단기 용량 체크
- 케이블 발열 감지

#### 2. **전력 (kW)**:

- **충전 속도** - 사용자에게 의미있는 정보
- 부하 관리
- 요금 계산 (kWh로 환산)
- 실제 성능 표시

---

## 3️⃣ 전압이란?

### ⚡ **전압 (Voltage) - V (볼트)**

**의미**: 전기를 밀어내는 **압력**

**단위**: V (볼트, Volt)

**비유**: 수도관의 **수압** 💧

---

### 📐 전압의 역할

```
전압이 높을수록 → 같은 전류로 더 많은 전력 전달 가능

예시:
220V × 32A = 7kW   (단상)
400V × 80A = 55kW  (3상, √3 계수 적용)
```

---

### 🔌 한국의 전압 표준

| 구분 | 전압 | 용도 |
|------|------|------|
| **단상** | 220V | 가정용, 완속 충전 |
| **3상 (상전압)** | 230V (L-N) | 각 선로와 중성선 사이 |
| **3상 (선간전압)** | 400V (L-L) | 선로와 선로 사이 |

---

### 💡 핵심 공식

```
┌─────────────┐
│  전압 (V)   │ ← "전기의 압력"
│   Voltage   │
└──────┬──────┘
       │
       │ ×  곱하기
       │
┌──────▼──────┐
│  전류 (A)   │ ← "흐르는 양"
│  Current    │
└──────┬──────┘
       │
       │ =  결과
       │
┌──────▼──────┐
│  전력 (kW)  │ ← "일하는 능력"
│   Power     │
└─────────────┘

P = V × I
```

---

## 4️⃣ 3상 vs 단상

### 🔌 단상 (Single-phase)

**구조**:

```
L1 ──────────┐
             │  220V
N ───────────┘

1개의 선로(Line) + 중성선(Neutral)
```

**특징**:

- 전압: 220V
- 용도: 가정용, 사무실
- 충전: 완속 충전 (7kW 이하)
- 간단하고 경제적

**계산**:

```
전력 = 전압 × 전류
P = 220V × 32A = 7,040W ≈ 7kW
```

---

### ⚡ 3상 (Three-phase)

**구조**:

```
L1 ──────────┐
             │
L2 ──────────┼  400V (선간전압)
             │  230V (상전압, 각 L-N)
L3 ──────────┤
             │
N ───────────┘

3개의 선로(L1, L2, L3) + 중성선(N)
각 선로는 120도씩 위상 차이
```

**특징**:

- 선간 전압: 400V (L-L)
- 상전압: 230V (L-N)
- 용도: 산업용, 대용량
- 충전: 급속 충전 (50kW 이상)
- 효율적이고 안정적

**계산**:

```
전력 = √3 × 선간전압 × 전류
P = 1.732 × 400V × 80A ≈ 55,424W ≈ 55kW

왜 √3?
→ 3개 선로가 120도씩 위상차를 가지므로
```

---

### 🌊 파형 비유 (120도 위상차)

```
단상: 1개의 파도
~~~~~
    ~~~~~
        ~~~~~

3상: 3개의 파도가 120도씩 어긋남
~~~~~
  L1  ~~~~~
          ~~~~~

      ~~~~~
    L2  ~~~~~
            ~~~~~

          ~~~~~
        L3  ~~~~~
                ~~~~~

→ 항상 어딘가에서 전력 공급
→ 안정적이고 효율적!
```

---

### 📊 비교표

| 구분 | 단상 (Single-phase) | 3상 (Three-phase) |
|------|-------------------|------------------|
| **선로 수** | 1개 (L1 + N) | 3개 (L1, L2, L3 + N) |
| **전압** | 220V | 400V (선간), 230V (상전압) |
| **전력** | ~7kW | 50kW ~ 수백kW |
| **용도** | 가정, 완속 충전 | 산업, 급속 충전 |
| **안정성** | 보통 | 매우 높음 |
| **효율** | 보통 | 매우 높음 |
| **설치비** | 저렴 | 비싸지만 대용량 가능 |

---

### 🔍 실제 충전 예시

#### 완속 충전 (단상 7kW):

```
전압: 220V (L1-N)
전류: 32A
전력: 220V × 32A = 7kW
충전시간: 60kWh 배터리 → 약 8.5시간
```

#### 급속 충전 (3상 50kW):

```
전압: 400V (선간)
전류: 80A (각 선로)
전력: √3 × 400V × 80A ≈ 55kW
충전시간: 60kWh 배터리 → 약 1.1시간
```

---

### ❓ 왜 3상을 사용하나?

#### 1. **부하 분산**

```
단상: 모든 전력이 1개 선로
L1 ━━━━━━━━ (부하 집중!)

3상: 전력이 3개 선로에 분산
L1 ━━━━━━
L2 ━━━━━━  (부하 분산!)
L3 ━━━━━━
```

#### 2. **안정적인 전력 공급**

```
단상: 파형이 0을 지날 때 순간 전력 0
3상: 3개 파형이 서로 보완 → 항상 전력 공급
```

#### 3. **효율성**

```
같은 전력을 전달할 때:
단상: 더 두꺼운 케이블 필요
3상: 더 얇은 케이블로 가능 (비용 절감)
```

---

### 🎯 OCPP에서의 활용

#### MeterValues에서 phase별 측정:

```json
{
  "sampledValue": [
    // 3상 각각의 전류 측정
    {"measurand": "Current.Import", "phase": "L1", "value": "80.5"},
    {"measurand": "Current.Import", "phase": "L2", "value": "79.8"},
    {"measurand": "Current.Import", "phase": "L3", "value": "80.2"},
    
    // 3상 각각의 전압 측정
    {"measurand": "Voltage", "phase": "L1-N", "value": "230.5"},
    {"measurand": "Voltage", "phase": "L2-N", "value": "229.8"},
    {"measurand": "Voltage", "phase": "L3-N", "value": "230.2"}
  ]
}
```

**왜 각각 측정?**

- 부하 균형 확인 (L1, L2, L3가 비슷한지)
- 불균형 시 문제 감지
- 안전 관리

---

## 5️⃣ 실전 계산 예시

### 시나리오 1: 완속 충전 (단상 7kW)

```
📊 충전기 스펙
━━━━━━━━━━━━━━━━━━━━
전압: 220V (단상)
전류: 32A
전력: 220V × 32A = 7,040W ≈ 7kW

🔋 충전 시나리오
━━━━━━━━━━━━━━━━━━━━
배터리 용량: 60kWh
현재 충전률: 20% (12kWh)
목표 충전률: 80% (48kWh)
필요 전력량: 48 - 12 = 36kWh

⏱️ 충전 시간 계산
━━━━━━━━━━━━━━━━━━━━
시간 = 전력량 ÷ 전력
    = 36kWh ÷ 7kW
    ≈ 5.14시간 (약 5시간 8분)

💰 요금 계산
━━━━━━━━━━━━━━━━━━━━
요금 = 36kWh × 300원/kWh = 10,800원
```

---

### 시나리오 2: 급속 충전 (3상 50kW)

```
📊 충전기 스펙
━━━━━━━━━━━━━━━━━━━━
전압: 400V (3상 선간)
전류: 80A (각 선로)
전력: √3 × 400V × 80A ≈ 55kW

🔋 충전 시나리오 (동일 조건)
━━━━━━━━━━━━━━━━━━━━
필요 전력량: 36kWh

⏱️ 충전 시간 계산
━━━━━━━━━━━━━━━━━━━━
시간 = 36kWh ÷ 55kW
    ≈ 0.65시간 (약 39분)

💰 요금 계산 (급속 충전 요금 적용)
━━━━━━━━━━━━━━━━━━━━
요금 = 36kWh × 400원/kWh = 14,400원
```

---

### 시나리오 3: 실시간 모니터링

```
⏰ 10:00 - 충전 시작
━━━━━━━━━━━━━━━━━━━━
Energy: 0 kWh
Power: 55 kW
Current L1: 80.5 A
Current L2: 79.8 A
Current L3: 80.2 A
Voltage L1-N: 230.5 V
SoC: 20%
요금: ₩0

⏰ 10:05 - 5분 경과
━━━━━━━━━━━━━━━━━━━━
Energy: 4.5 kWh (5분 = 0.083시간, 55kW × 0.083 = 4.5kWh)
Power: 54.8 kW
Current L1: 80.1 A
Current L2: 79.9 A
Current L3: 80.0 A
SoC: 27%
요금: 4.5kWh × 400원 = ₩1,800

⏰ 10:20 - 20분 경과
━━━━━━━━━━━━━━━━━━━━
Energy: 18.3 kWh
Power: 55.0 kW
Current L1: 80.5 A
Current L2: 79.8 A
Current L3: 80.1 A
SoC: 50%
요금: 18.3kWh × 400원 = ₩7,320

⏰ 10:39 - 39분 경과 (완료)
━━━━━━━━━━━━━━━━━━━━
Energy: 36.0 kWh
Power: 0 kW (충전 완료)
SoC: 80%
최종 요금: 36kWh × 400원 = ₩14,400
```

---

### 시나리오 4: 부하 불균형 감지

```
정상 상태 (부하 균형)
━━━━━━━━━━━━━━━━━━━━
Current L1: 80.5 A  ✅
Current L2: 79.8 A  ✅
Current L3: 80.2 A  ✅
차이: 0.7A (정상)

비정상 상태 (부하 불균형)
━━━━━━━━━━━━━━━━━━━━
Current L1: 80.5 A  ✅
Current L2: 60.2 A  ⚠️ (L1 대비 -20A)
Current L3: 80.1 A  ✅
→ L2 선로 문제 의심
→ 알람 발생
→ 출력 제한 또는 충전 중지
```

---

## 🎯 종합 정리

### 핵심 공식 한눈에

```
┌─────────────┐
│  전압 (V)   │ ← "전기의 압력" (220V, 400V)
│   Voltage   │
└──────┬──────┘
       │
       │ ×  곱하기
       │
┌──────▼──────┐
│  전류 (A)   │ ← "흐르는 양" (32A, 80A)
│  Current    │
└──────┬──────┘
       │
       │ =  결과
       │
┌──────▼──────┐
│  전력 (kW)  │ ← "일하는 속도" (7kW, 50kW)
│   Power     │
└──────┬──────┘
       │
       │ ×  시간
       │
┌──────▼──────┐
│ 전력량(kWh) │ ← "총 사용량" (요금 청구 기준)
│   Energy    │
└─────────────┘
```

---

### 실생활 비유 총정리

| 전기 개념 | 수도 시스템 비유 | 자동차 비유 |
|---------|----------------|-----------|
| **전압 (V)** | 수압 (물이 밀리는 압력) | - |
| **전류 (A)** | 유속 (물이 흐르는 속도) | - |
| **전력 (kW)** | 수차 회전력 (일하는 힘) | 속도계 (현재 속도) |
| **전력량 (kWh)** | 사용한 총 물의 양 | 주행거리계 (총 거리) |

---

### OCPP MeterValues 매핑

| 전기 개념 | OCPP Measurand | 단위 | 용도 |
|---------|---------------|------|------|
| **전압** | `Voltage` | V | 안전 모니터링 |
| **전류** | `Current.Import` | A | 과전류 방지, 부하 균형 |
| **전력** | `Power.Active.Import` | kW | 충전 속도 표시 |
| **전력량** | `Energy.Active.Import.Register` | kWh | 과금 계산 💰 |

---

## 📚 참고

- 작성일: 2026-01-13
- 목적: OCPP 1.6 MeterValues 이해를 위한 기초 지식
- 관련 문서: `04_cheet_sheet_v2.md` - MeterValues 섹션

---

**다음 학습**: OCPP 프로토콜로 돌아가서 실전 적용하기! 🚀