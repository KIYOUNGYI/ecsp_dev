# 5. Operations Initiated by Central System (ì¤‘ì•™ ì‹œìŠ¤í…œì— ì˜í•´ ì‹œì‘ëœ ì‘ì—…)

> ì¶œì²˜: ocpp-1.6 edition 2.pdf, Chapter 5
> ì‘ì—… ìœ í˜•: ì™„ì „ ë²ˆì—­ (Full Translation) - í…ìŠ¤íŠ¸ ë³µë¶™ ê¸°ë°˜

## 5.1. Cancel Reservation (ì˜ˆì•½ ì·¨ì†Œ)

ì˜ˆì•½ì„ ì·¨ì†Œí•˜ê¸° ìœ„í•´ ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì— CancelReservation.req PDUë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL).

ì¶©ì „ê¸°ê°€ ìš”ì²­ PDUì˜ reservationIdì™€ ì¼ì¹˜í•˜ëŠ” ì˜ˆì•½ì„ ê°€ì§€ê³  ìˆìœ¼ë©´, ìƒíƒœ 'Accepted'ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤(SHALL). ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ 'Rejected'ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤(SHALL).

## 5.2. Change Availability (ê°€ìš©ì„± ë³€ê²½)

ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì— ê°€ìš©ì„± ë³€ê²½ì„ ìš”ì²­í•  ìˆ˜ ìˆë‹¤. ì¶©ì „ê¸°ëŠ” ì¶©ì „ ì¤‘ì´ê±°ë‚˜ ì¶©ì „ ì¤€ë¹„ê°€ ë˜ì–´ ìˆì„ ë•Œ ì‚¬ìš© ê°€ëŠ¥("ì‘ë™ ì¤‘")í•œ ê²ƒìœ¼ë¡œ ê°„ì£¼ëœë‹¤. ì¶©ì „ê¸°ëŠ” ì¶©ì „ì„ í—ˆìš©í•˜ì§€ ì•Šì„ ë•Œ ì‚¬ìš© ë¶ˆê°€ëŠ¥í•œ ê²ƒìœ¼ë¡œ ê°„ì£¼ëœë‹¤. ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì— ê°€ìš©ì„± ë³€ê²½ì„ ìš”ì²­í•˜ê¸° ìœ„í•´ ChangeAvailability.req PDUë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL). ì¤‘ì•™ ì‹œìŠ¤í…œì€ ê°€ìš©ì„±ì„ available ë˜ëŠ” unavailableë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

ChangeAvailability.req PDUë¥¼ ìˆ˜ì‹ í•˜ë©´, ì¶©ì „ê¸°ëŠ” ChangeAvailability.conf PDUë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL). ì‘ë‹µ PDUëŠ” ì¶©ì „ê¸°ê°€ ìš”ì²­ëœ ê°€ìš©ì„±ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ì•¼ í•œë‹¤(SHALL). íŠ¸ëœì­ì…˜ì´ ì§„í–‰ ì¤‘ì¼ ë•Œ ì¶©ì „ê¸°ëŠ” ê°€ìš©ì„± ìƒíƒœ 'Scheduled'ë¡œ ì‘ë‹µí•˜ì—¬ íŠ¸ëœì­ì…˜ì´ ì™„ë£Œëœ í›„ì— ë°œìƒí•˜ë„ë¡ ì˜ˆì•½ë˜ì—ˆìŒì„ ë‚˜íƒ€ë‚´ì•¼ í•œë‹¤(SHALL).

ì¤‘ì•™ ì‹œìŠ¤í…œì´ ì¶©ì „ê¸°ì— ì´ë¯¸ ìˆëŠ” ìƒíƒœë¡œ ë³€ê²½ì„ ìš”ì²­í•˜ëŠ” ê²½ìš°, ì¶©ì „ê¸°ëŠ” ê°€ìš©ì„± ìƒíƒœ 'Accepted'ë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL).

ChangeAvailability.req PDUë¡œ ìš”ì²­ëœ ê°€ìš©ì„± ë³€ê²½ì´ ë°œìƒí•˜ë©´, ì¶©ì „ê¸°ëŠ” í•´ë‹¹ ì„¹ì…˜ì— ì„¤ëª…ëœ ëŒ€ë¡œ StatusNotification.reqë¡œ ì¤‘ì•™ ì‹œìŠ¤í…œì— ìƒˆë¡œìš´ ê°€ìš©ì„± ìƒíƒœë¥¼ ì•Œë ¤ì•¼ í•œë‹¤(SHALL).

> **ì°¸ê³ :** ChangeAvailability.reqê°€ ConnectorId = 0ì„ í¬í•¨í•˜ëŠ” ê²½ìš°, ìƒíƒœ ë³€ê²½ì€ ì¶©ì „ê¸° ë° ëª¨ë“  ì»¤ë„¥í„°ì— ì ìš©ëœë‹¤.

> **ì°¸ê³ :** ì§€ì† ìƒíƒœ: ì˜ˆë¥¼ ë“¤ì–´ Unavailableë¡œ ì„¤ì •ëœ ì»¤ë„¥í„°ëŠ” ì¬ë¶€íŒ… í›„ì—ë„ ìœ ì§€ë˜ì–´ì•¼ í•œë‹¤.

## 5.3. Change Configuration (êµ¬ì„± ë³€ê²½)

ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì— êµ¬ì„± ë§¤ê°œë³€ìˆ˜ ë³€ê²½ì„ ìš”ì²­í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ ìœ„í•´ ì¤‘ì•™ ì‹œìŠ¤í…œì€ ChangeConfiguration.reqë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL). ì´ ìš”ì²­ì—ëŠ” í‚¤-ê°’ ìŒì´ í¬í•¨ë˜ë©°, "key"ëŠ” ë³€ê²½í•  êµ¬ì„± ì„¤ì •ì˜ ì´ë¦„ì´ê³  "value"ëŠ” êµ¬ì„± ì„¤ì •ì˜ ìƒˆ ê°’ì„ í¬í•¨í•œë‹¤.

ChangeConfiguration.reqë¥¼ ìˆ˜ì‹ í•˜ë©´ ì¶©ì „ê¸°ëŠ” êµ¬ì„±ì— ë³€ê²½ì„ ì ìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ChangeConfiguration.confë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL). "key" ë° "value"ì˜ ë‚´ìš©ì€ ê·œì •ë˜ì§€ ì•Šì•˜ë‹¤. ì¶©ì „ê¸°ëŠ” ë‹¤ìŒ ê·œì¹™ì— ë”°ë¼ ChangeConfiguration.confì˜ status í•„ë“œë¥¼ ì„¤ì •í•´ì•¼ í•œë‹¤(SHALL):

- ë³€ê²½ì´ ì„±ê³µì ìœ¼ë¡œ ì ìš©ë˜ê³  ë³€ê²½ì´ ì¦‰ì‹œ ìœ íš¨í•œ ê²½ìš°, ì¶©ì „ê¸°ëŠ” ìƒíƒœ 'Accepted'ë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL).
- ë³€ê²½ì´ ì„±ê³µì ìœ¼ë¡œ ì ìš©ë˜ì—ˆì§€ë§Œ ìœ íš¨í•˜ê²Œ í•˜ë ¤ë©´ ì¬ë¶€íŒ…ì´ í•„ìš”í•œ ê²½ìš°, ì¶©ì „ê¸°ëŠ” ìƒíƒœ 'RebootRequired'ë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL).
- "key"ê°€ ì¶©ì „ê¸°ì—ì„œ ì§€ì›í•˜ëŠ” êµ¬ì„± ì„¤ì •ì— í•´ë‹¹í•˜ì§€ ì•Šìœ¼ë©´, ì¶©ì „ê¸°ëŠ” ìƒíƒœ 'NotSupported'ë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL).
- ì¶©ì „ê¸°ê°€ êµ¬ì„±ì„ ì„¤ì •í•˜ì§€ ì•Šì•˜ê³  ì´ì „ ìƒíƒœ ì¤‘ ì–´ëŠ ê²ƒë„ ì ìš©ë˜ì§€ ì•Šìœ¼ë©´, ì¶©ì „ê¸°ëŠ” ìƒíƒœ 'Rejected'ë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL).

> **ì°¸ê³ :** ì¶©ì „ê¸°ê°€ 'Rejected' ìƒíƒœì˜ ChangeConfiguration.confë¡œ ì‘ë‹µí•˜ëŠ” Change Configuration ìš”ì²­ì˜ ì˜ˆëŠ” ë²”ìœ„ë¥¼ ë²—ì–´ë‚œ ê°’ì´ ìˆëŠ” ìš”ì²­ ë° ì˜ˆìƒ í˜•ì‹ì— ë§ì§€ ì•ŠëŠ” ê°’ì´ ìˆëŠ” ìš”ì²­ì´ë‹¤.

í‚¤ ê°’ì´ CSLë¡œ ì •ì˜ëœ ê²½ìš°, CSLì˜ ìµœëŒ€ ê¸¸ì´ë¥¼ í•­ëª© ìˆ˜ë¡œ ë‚˜íƒ€ë‚´ëŠ” [KeyName]MaxLength í‚¤ê°€ í•¨ê»˜ ì œê³µë  ìˆ˜ ìˆë‹¤(MAY). ì´ í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•Šì€ ê²½ìš°, 1(í•˜ë‚˜) í•­ëª©ì˜ ì•ˆì „í•œ ê°’ì„ ê°€ì •í•´ì•¼ í•œë‹¤(SHOULD).

## 5.4. Clear Cache (ìºì‹œ ì§€ìš°ê¸°)

ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì— Authorization Cacheë¥¼ ì§€ìš°ë„ë¡ ìš”ì²­í•  ìˆ˜ ìˆë‹¤. ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì˜ Authorization Cacheë¥¼ ì§€ìš°ê¸° ìœ„í•´ ClearCache.req PDUë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL).

ClearCache.req PDUë¥¼ ìˆ˜ì‹ í•˜ë©´, ì¶©ì „ê¸°ëŠ” ClearCache.conf PDUë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL). ì‘ë‹µ PDUëŠ” ì¶©ì „ê¸°ê°€ Authorization Cacheë¥¼ ì§€ìš¸ ìˆ˜ ìˆì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ì•¼ í•œë‹¤(SHALL).

## 5.5. Clear Charging Profile (ì¶©ì „ í”„ë¡œíŒŒì¼ ì§€ìš°ê¸°)

ì¤‘ì•™ ì‹œìŠ¤í…œì´ ì´ì „ì— ì¶©ì „ê¸°ë¡œ ì „ì†¡í•œ ì¼ë¶€ ë˜ëŠ” ëª¨ë“  ì¶©ì „ í”„ë¡œíŒŒì¼ì„ ì§€ìš°ë ¤ëŠ” ê²½ìš°, ClearChargingProfile.req PDUë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤(SHALL).

ì¶©ì „ê¸°ëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ì§€ì •í•˜ëŠ” ClearChargingProfile.conf PDUë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL).

## 5.6. Data Transfer (ë°ì´í„° ì „ì†¡)

ì¤‘ì•™ ì‹œìŠ¤í…œì´ OCPPì—ì„œ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥ì— ëŒ€í•œ ì •ë³´ë¥¼ ì¶©ì „ê¸°ë¡œ ì „ì†¡í•´ì•¼ í•˜ëŠ” ê²½ìš°, DataTransfer.req PDUë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤(SHALL).

ì´ ì‘ì—…ì˜ ë™ì‘ì€ ì¶©ì „ê¸°ì— ì˜í•´ ì‹œì‘ëœ Data Transfer ì‘ì—…ê³¼ ë™ì¼í•˜ë‹¤. ìì„¸í•œ ë‚´ìš©ì€ Data Transferë¥¼ ì°¸ì¡°í•˜ë¼.

## 5.7. Get Composite Schedule (ë³µí•© ìŠ¤ì¼€ì¤„ ê°€ì ¸ì˜¤ê¸°)

ì¤‘ì•™ ì‹œìŠ¤í…œì€ GetCompositeSchedule.req PDUë¥¼ ì „ì†¡í•˜ì—¬ ì¶©ì „ê¸°ì— ë³µí•© ì¶©ì „ ìŠ¤ì¼€ì¤„ì„ ë³´ê³ í•˜ë„ë¡ ìš”ì²­í•  ìˆ˜ ìˆë‹¤(MAY). GetCompositeSchedule.conf PDUì— ë³´ê³ ëœ ìŠ¤ì¼€ì¤„ì€ ì¶©ì „ê¸°ì— ìˆëŠ” ëª¨ë“  í™œì„± ìŠ¤ì¼€ì¤„ê³¼ ê°€ëŠ¥í•œ ë¡œì»¬ ì œí•œì˜ ê³„ì‚° ê²°ê³¼ì´ë‹¤. ë¡œì»¬ ì œí•œì´ ê³ ë ¤ë  ìˆ˜ ìˆë‹¤.

GetCompositeSchedule.reqë¥¼ ìˆ˜ì‹ í•˜ë©´, ì¶©ì „ê¸°ëŠ” ìš”ì²­ PDUê°€ ìˆ˜ì‹ ëœ ìˆœê°„(ì‹œê°„ X)ë¶€í„° X + Durationê¹Œì§€ ë³µí•© ì¶©ì „ ìŠ¤ì¼€ì¤„ ê°„ê²©ì„ ê³„ì‚°í•˜ê³ , GetCompositeSchedule.conf PDUë¡œ ì¤‘ì•™ ì‹œìŠ¤í…œì— ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL).

ìš”ì²­ì˜ ConnectorIdê°€ '0'ìœ¼ë¡œ ì„¤ì •ëœ ê²½ìš°, ì¶©ì „ê¸°ëŠ” ìš”ì²­ëœ ì‹œê°„ ë™ì•ˆ ì¶©ì „ê¸°ê°€ ê·¸ë¦¬ë“œì—ì„œ ì†Œë¹„í•  ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ëŠ” ì´ ì „ë ¥ ë˜ëŠ” ì „ë¥˜ë¥¼ ë³´ê³ í•´ì•¼ í•œë‹¤(SHALL).

> **ì°¸ê³ :** ì¶©ì „ê¸°ê°€ ì „ì†¡í•œ ì¶©ì „ ìŠ¤ì¼€ì¤„ì€ í•´ë‹¹ ì‹œì ì— ëŒ€í•´ì„œë§Œ í‘œì‹œë˜ëŠ” ê²ƒì´ë‹¤. ì´ ìŠ¤ì¼€ì¤„ì€ ì™¸ë¶€ ì›ì¸(ì˜ˆ: ê·¸ë¦¬ë“œ ì—°ê²° ìš©ëŸ‰ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ë¡œì»¬ ë°¸ëŸ°ì‹±ì´ í™œì„±í™”ë˜ì–´ ìˆê³  í•˜ë‚˜ì˜ ì»¤ë„¥í„°ê°€ ì‚¬ìš© ê°€ëŠ¥í•´ì§)ìœ¼ë¡œ ì¸í•´ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ë³€ê²½ë  ìˆ˜ ìˆë‹¤.

ì¶©ì „ê¸°ê°€ ìš”ì²­ëœ ìŠ¤ì¼€ì¤„ì„ ë³´ê³ í•  ìˆ˜ ì—†ëŠ” ê²½ìš°(ì˜ˆ: connectorIdë¥¼ ì•Œ ìˆ˜ ì—†ëŠ” ê²½ìš°), ìƒíƒœ Rejectedë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL).

## 5.8. Get Configuration (êµ¬ì„± ê°€ì ¸ì˜¤ê¸°)

êµ¬ì„± ì„¤ì •ì˜ ê°’ì„ ê²€ìƒ‰í•˜ê¸° ìœ„í•´, ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì— GetConfiguration.req PDUë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL).

ìš”ì²­ PDUì˜ í‚¤ ëª©ë¡ì´ ë¹„ì–´ ìˆê±°ë‚˜ ëˆ„ë½ëœ ê²½ìš°(ì„ íƒ ì‚¬í•­ì„), ì¶©ì „ê¸°ëŠ” GetConfiguration.confì—ì„œ ëª¨ë“  êµ¬ì„± ì„¤ì • ëª©ë¡ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤(SHALL). ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì¶©ì „ê¸°ëŠ” ì¸ì‹ëœ í‚¤ ë° í•´ë‹¹ ê°’ê³¼ ì½ê¸° ì „ìš© ìƒíƒœì˜ ëª©ë¡ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤(SHALL). ì¸ì‹ë˜ì§€ ì•Šì€ í‚¤ëŠ” GetConfiguration.confì˜ ì„ íƒì  unknown key list ìš”ì†Œì˜ ì¼ë¶€ë¡œ ì‘ë‹µ PDUì— ë°°ì¹˜ë˜ì–´ì•¼ í•œë‹¤(SHALL).

ë‹¨ì¼ PDUì—ì„œ ìš”ì²­ë˜ëŠ” êµ¬ì„± í‚¤ì˜ ìˆ˜ëŠ” ì¶©ì „ê¸°ì— ì˜í•´ ì œí•œë  ìˆ˜ ìˆë‹¤(MAY). ì´ ìµœëŒ€ê°’ì€ êµ¬ì„± í‚¤ GetConfigurationMaxKeysë¥¼ ì½ì–´ ê²€ìƒ‰í•  ìˆ˜ ìˆë‹¤.

## 5.9. Get Diagnostics (ì§„ë‹¨ ì •ë³´ ê°€ì ¸ì˜¤ê¸°)

ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì— ì§„ë‹¨ ì •ë³´ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆë‹¤. ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì˜ ì§„ë‹¨ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ GetDiagnostics.req PDUë¥¼ ì „ì†¡í•´ì•¼ í•˜ë©°(SHALL), ì¶©ì „ê¸°ê°€ ì§„ë‹¨ ë°ì´í„°ë¥¼ ì—…ë¡œë“œí•´ì•¼ í•˜ëŠ” ìœ„ì¹˜ì™€ ì„ íƒì ìœ¼ë¡œ ìš”ì²­ëœ ì§„ë‹¨ ì •ë³´ì˜ ì‹œì‘ ë° ì¢…ë£Œ ì‹œê°„ì„ í¬í•¨í•œë‹¤.

GetDiagnostics.req PDUë¥¼ ìˆ˜ì‹ í•˜ê³  ì§„ë‹¨ ì •ë³´ê°€ ìˆëŠ” ê²½ìš°, ì¶©ì „ê¸°ëŠ” ì—…ë¡œë“œë  ì§„ë‹¨ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” íŒŒì¼ì˜ ì´ë¦„ì„ ëª…ì‹œí•˜ëŠ” GetDiagnostics.conf PDUë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL). ì¶©ì „ê¸°ëŠ” ë‹¨ì¼ íŒŒì¼ì„ ì—…ë¡œë“œí•´ì•¼ í•œë‹¤(SHALL). ì§„ë‹¨ íŒŒì¼ì˜ í˜•ì‹ì€ ê·œì •ë˜ì§€ ì•Šì•˜ë‹¤. ì§„ë‹¨ íŒŒì¼ì´ ì—†ëŠ” ê²½ìš°, GetDiagnostics.confëŠ” íŒŒì¼ ì´ë¦„ì„ í¬í•¨í•´ì„œëŠ” ì•ˆ ëœë‹¤(SHALL NOT).

ì§„ë‹¨ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ëŠ” ë™ì•ˆ, ì¶©ì „ê¸°ëŠ” ì¤‘ì•™ ì‹œìŠ¤í…œì— ì—…ë¡œë“œ í”„ë¡œì„¸ìŠ¤ì˜ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ê¸° ìœ„í•´ DiagnosticsStatusNotification.req PDUë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤(MUST).

## 5.10. Get Local List Version (ë¡œì»¬ ëª©ë¡ ë²„ì „ ê°€ì ¸ì˜¤ê¸°)

Local Authorization Listì˜ ë™ê¸°í™”ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´, ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì— Local Authorization Listì˜ ë²„ì „ ë²ˆí˜¸ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆë‹¤. ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì´ ê°’ì„ ìš”ì²­í•˜ê¸° ìœ„í•´ GetLocalListVersion.req PDUë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL).

GetLocalListVersion.req PDUë¥¼ ìˆ˜ì‹ í•˜ë©´ ì¶©ì „ê¸°ëŠ” Local Authorization Listì˜ ë²„ì „ ë²ˆí˜¸ë¥¼ í¬í•¨í•˜ëŠ” GetLocalListVersion.conf PDUë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL). ë²„ì „ ë²ˆí˜¸ 0(ì˜)ì€ ë¡œì»¬ ì¸ì¦ ëª©ë¡ì´ ë¹„ì–´ ìˆìŒì„ ë‚˜íƒ€ë‚´ëŠ” ë° ì‚¬ìš©ë˜ì–´ì•¼ í•˜ë©°(SHALL), ë²„ì „ ë²ˆí˜¸ -1ì€ ì¶©ì „ê¸°ê°€ Local Authorization Listë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŒì„ ë‚˜íƒ€ë‚´ëŠ” ë° ì‚¬ìš©ë˜ì–´ì•¼ í•œë‹¤(SHALL).

## 5.11. Remote Start Transaction (ì›ê²© íŠ¸ëœì­ì…˜ ì‹œì‘)

ì¤‘ì•™ ì‹œìŠ¤í…œì€ RemoteStartTransaction.reqë¥¼ ì „ì†¡í•˜ì—¬ ì¶©ì „ê¸°ì— íŠ¸ëœì­ì…˜ ì‹œì‘ì„ ìš”ì²­í•  ìˆ˜ ìˆë‹¤. ìˆ˜ì‹  ì‹œ, ì¶©ì „ê¸°ëŠ” RemoteStartTransaction.confë¡œ ì‘ë‹µí•´ì•¼ í•˜ë©°(SHALL) ìš”ì²­ì„ ìˆ˜ë½í•˜ê³  íŠ¸ëœì­ì…˜ ì‹œì‘ì„ ì‹œë„í•  ê²ƒì¸ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìƒíƒœë¥¼ í¬í•¨í•´ì•¼ í•œë‹¤.

RemoteStartTransaction.req ë©”ì‹œì§€ì˜ íš¨ê³¼ëŠ” ì¶©ì „ê¸°ì˜ AuthorizeRemoteTxRequests êµ¬ì„± í‚¤ ê°’ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤.

- AuthorizeRemoteTxRequests ê°’ì´ trueì¸ ê²½ìš°, ì¶©ì „ê¸°ëŠ” RemoteStartTransaction.req ë©”ì‹œì§€ì— ì œê³µëœ idTagë¡œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ê¸° ìœ„í•œ ì¶©ì „ê¸°ì˜ ë¡œì»¬ ë™ì‘ì— ëŒ€í•œ ì‘ë‹µì¸ ê²ƒì²˜ëŸ¼ ë™ì‘í•´ì•¼ í•œë‹¤(SHALL). ì´ëŠ” ì¶©ì „ê¸°ê°€ Local Authorization List, Authorization Cache ë°/ë˜ëŠ” Authorize.req ìš”ì²­ì„ ì‚¬ìš©í•˜ì—¬ ë¨¼ì € idTagë¥¼ ì¸ì¦í•˜ë ¤ê³  ì‹œë„í•¨ì„ ì˜ë¯¸í•œë‹¤. íŠ¸ëœì­ì…˜ì€ ì¸ì¦ì„ ë°›ì€ í›„ì—ë§Œ ì‹œì‘ëœë‹¤.

- AuthorizeRemoteTxRequests ê°’ì´ falseì¸ ê²½ìš°, ì¶©ì „ê¸°ëŠ” RemoteStartTransaction.req ë©”ì‹œì§€ì— ì œê³µëœ idTagì— ëŒ€í•œ íŠ¸ëœì­ì…˜ì„ ì¦‰ì‹œ ì‹œì‘í•˜ë ¤ê³  ì‹œë„í•´ì•¼ í•œë‹¤(SHALL). íŠ¸ëœì­ì…˜ì´ ì‹œì‘ëœ í›„, ì¶©ì „ê¸°ëŠ” ì¤‘ì•™ ì‹œìŠ¤í…œì— StartTransaction ìš”ì²­ì„ ë³´ë‚´ê³ , ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì´ StartTransaction ìš”ì²­ì„ ì²˜ë¦¬í•  ë•Œ idTagì˜ ì¸ì¦ ìƒíƒœë¥¼ í™•ì¸í•œë‹¤ëŠ” ì ì— ìœ ì˜í•˜ë¼.

Remote Start Transactionì˜ ì¼ë°˜ì ì¸ ì‚¬ìš© ì‚¬ë¡€ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤:
- CPO ìš´ì˜ìê°€ íŠ¸ëœì­ì…˜ ì‹œì‘ì— ë¬¸ì œê°€ ìˆëŠ” EV ìš´ì „ìë¥¼ ì§€ì›í•  ìˆ˜ ìˆë„ë¡ í•¨.
- ëª¨ë°”ì¼ ì•±ì´ ì¤‘ì•™ ì‹œìŠ¤í…œì„ í†µí•´ ì¶©ì „ íŠ¸ëœì­ì…˜ì„ ì œì–´í•  ìˆ˜ ìˆë„ë¡ í•¨.
- SMSë¥¼ ì‚¬ìš©í•˜ì—¬ ì¤‘ì•™ ì‹œìŠ¤í…œì„ í†µí•´ ì¶©ì „ íŠ¸ëœì­ì…˜ì„ ì œì–´í•  ìˆ˜ ìˆë„ë¡ í•¨.

RemoteStartTransaction.reqëŠ” ì‹ë³„ì(idTag)ë¥¼ í¬í•¨í•´ì•¼ í•˜ë©°(SHALL), ì¶©ì „ê¸°ê°€ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•  ìˆ˜ ìˆëŠ” ê²½ìš° ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¤‘ì•™ ì‹œìŠ¤í…œì— StartTransaction.reqë¥¼ ë³´ë‚¸ë‹¤. íŠ¸ëœì­ì…˜ì€ StartTransactionì— ì„¤ëª…ëœ ê²ƒê³¼ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì‹œì‘ëœë‹¤. RemoteStartTransaction.reqëŠ” íŠ¸ëœì­ì…˜ì´ íŠ¹ì • ì»¤ë„¥í„°ì—ì„œ ì‹œì‘ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš° ì»¤ë„¥í„° idë¥¼ í¬í•¨í•  ìˆ˜ ìˆë‹¤(MAY). ì»¤ë„¥í„° idê°€ ì œê³µë˜ì§€ ì•Šìœ¼ë©´, ì¶©ì „ê¸°ê°€ ì»¤ë„¥í„° ì„ íƒì„ ì œì–´í•œë‹¤. ì¶©ì „ê¸°ëŠ” ì»¤ë„¥í„° idê°€ ì—†ëŠ” RemoteStartTransaction.reqë¥¼ ê±°ë¶€í•  ìˆ˜ ìˆë‹¤(MAY).

ì¤‘ì•™ ì‹œìŠ¤í…œì€ RemoteStartTransaction ìš”ì²­ì— ChargingProfileì„ í¬í•¨í•  ìˆ˜ ìˆë‹¤(MAY). ì´ ChargingProfileì˜ ëª©ì ì€ TxProfileë¡œ ì„¤ì •ë˜ì–´ì•¼ í•œë‹¤(SHALL). ìˆ˜ë½ë˜ë©´, ì¶©ì „ê¸°ëŠ” íŠ¸ëœì­ì…˜ì— ëŒ€í•´ ì´ ChargingProfileì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤(SHALL).

> **ì°¸ê³ :** Smart Chargingì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ì¶©ì „ê¸°ê°€ Charging Profileì´ ìˆëŠ” RemoteStartTransaction.reqë¥¼ ìˆ˜ì‹ í•˜ë©´, ì´ ë§¤ê°œë³€ìˆ˜ëŠ” ë¬´ì‹œë˜ì–´ì•¼ í•œë‹¤(SHOULD).

---

### ğŸ“ ì¶”ê°€ ì„¤ëª…: AuthorizeRemoteTxRequestsì™€ ì¸ì¦ íë¦„ ì´í•´

#### ğŸ” í•µì‹¬ ì§ˆë¬¸: ëˆ„ê°€, ì–¸ì œ idTagë¥¼ ê²€ì¦í•˜ëŠ”ê°€?

**AuthorizeRemoteTxRequests** ì„¤ì • ê°’ì— ë”°ë¼ ì¸ì¦ ì£¼ì²´ì™€ ì‹œì ì´ ì™„ì „íˆ ë‹¬ë¼ì§‘ë‹ˆë‹¤.

##### ğŸ“Š ì„¤ì •ë³„ ì¸ì¦ íë¦„ ë¹„êµ

| êµ¬ë¶„ | AuthorizeRemoteTxRequests = **true** | AuthorizeRemoteTxRequests = **false** |
|------|--------------------------------------|---------------------------------------|
| **ì¸ì¦ ì£¼ì²´** | ğŸ”Œ **ì¶©ì „ê¸°(CP)**ê°€ ë¨¼ì € ì¸ì¦ | ğŸ¢ **ì¤‘ì•™ ì‹œìŠ¤í…œ(CS)**ë§Œ ì¸ì¦ |
| **ì¸ì¦ ì‹œì ** | ì¶©ì „ **ì‹œì‘ ì „** | ì¶©ì „ **ì‹œì‘ í›„** |
| **ì¸ì¦ ë°©ë²•** | Local List â†’ Cache â†’ Authorize.req | StartTransaction.req ì²˜ë¦¬ ì‹œ DB í™•ì¸ |
| **ì¶©ì „ ì‹œì‘** | ì¸ì¦ **ì„±ê³µ í›„ì—ë§Œ** ì‹œì‘ | **ì¦‰ì‹œ** ì‹œì‘ (ì¸ì¦ ì „) |
| **ë³´ì•ˆ ìˆ˜ì¤€** | ğŸ”’ **ë†’ìŒ** (ì‚¬ì „ ê²€ì¦) | âš ï¸ **ë‚®ìŒ** (ì‚¬í›„ ê²€ì¦) |

##### âš¡ AuthorizeRemoteTxRequests = **true** (ê¶Œì¥)

**íŠ¹ì§•:** ì¶©ì „ê¸°ê°€ ë¡œì»¬ RFID íƒœê·¸ë¥¼ ë°›ì€ ê²ƒì²˜ëŸ¼ ë™ì‘

```
1. CS â†’ CP: RemoteStartTransaction.req { idTag: "USER_001" }

2. CP ë™ì‘ (ë§ˆì¹˜ ë¡œì»¬ RFID íƒœê·¸ì²˜ëŸ¼!):
   a) Local Authorization List í™•ì¸
      â†’ ìˆìœ¼ë©´: status í™•ì¸ â†’ Acceptedì´ë©´ ì¶©ì „ ì‹œì‘
      â†’ ì—†ìœ¼ë©´: ë‹¤ìŒ ë‹¨ê³„
   
   b) Authorization Cache í™•ì¸
      â†’ ìˆìœ¼ë©´: status í™•ì¸ â†’ Acceptedì´ë©´ ì¶©ì „ ì‹œì‘
      â†’ ì—†ìœ¼ë©´: ë‹¤ìŒ ë‹¨ê³„
   
   c) ì¤‘ì•™ ì‹œìŠ¤í…œì— ì‹¤ì‹œê°„ ì¸ì¦ ìš”ì²­
      CP â†’ CS: Authorize.req { idTag: "USER_001" }
      CS â†’ CP: Authorize.conf { idTagInfo: { status: "Accepted" } }
      â†’ Acceptedì´ë©´ ì¶©ì „ ì‹œì‘
      â†’ Blockedì´ë©´ ê±°ë¶€

3. ì¸ì¦ ì„±ê³µ ì‹œ:
   CP â†’ CS: StartTransaction.req

4. ì¤‘ì•™ ì‹œìŠ¤í…œì˜ 2ì°¨ ê²€ì¦ (ì•ˆì „ì¥ì¹˜):
   CS â†’ CP: StartTransaction.conf {
     transactionId: 12345,
     idTagInfo: { status: "Accepted" }  // ë‹¤ì‹œ í•œë²ˆ í™•ì¸!
   }
```

**ì¥ì :**
- âœ… ì°¨ë‹¨ëœ ì‚¬ìš©ì ì¦‰ì‹œ ê±°ë¶€ (ì¶©ì „ ì‹œì‘ ì „)
- âœ… ë³´ì•ˆ ìˆ˜ì¤€ ë†’ìŒ (2ì¤‘ ê²€ì¦)
- âœ… ì˜¤í”„ë¼ì¸ ëŒ€ì‘ ê°€ëŠ¥ (Local List/Cache í™œìš©)

**ë‹¨ì :**
- âš ï¸ Authorize.req ì¶”ê°€ í†µì‹  (ì•½ê°„ ëŠë¦¼)

##### ğŸš€ AuthorizeRemoteTxRequests = **false** (ë¹„ê¶Œì¥)

**íŠ¹ì§•:** ì¸ì¦ ì—†ì´ ì¦‰ì‹œ ì¶©ì „ ì‹œì‘

```
1. CS â†’ CP: RemoteStartTransaction.req { idTag: "USER_001" }

2. CP ë™ì‘:
   âŒ ì¸ì¦ ì•ˆ í•¨! ì¦‰ì‹œ ì¶©ì „ ì‹œì‘!
   
3. CP â†’ CS: StartTransaction.req { idTag: "USER_001" }

4. ì¤‘ì•™ ì‹œìŠ¤í…œì˜ ìœ ì¼í•œ ê²€ì¦ (ì´ë•Œ ì²˜ìŒìœ¼ë¡œ DB í™•ì¸!):
   user = db.findByIdTag("USER_001")
   
   if (user.blocked) {
     // ğŸš¨ ì°¨ë‹¨ëœ ì‚¬ìš©ì ë°œê²¬!
     CS â†’ CP: StartTransaction.conf {
       transactionId: 12345,
       idTagInfo: { status: "Blocked" }
     }
     
     // CP: ì¦‰ì‹œ ì¶©ì „ ì¤‘ì§€
     CP â†’ CS: StopTransaction.req { reason: "DeAuthorized" }
   }
```

**ì¥ì :**
- âœ… ë¹ ë¦„ (ì¦‰ì‹œ ì¶©ì „ ì‹œì‘)
- âœ… í†µì‹  íšŸìˆ˜ ì ìŒ

**ë‹¨ì :**
- âŒ **ë³´ì•ˆ ì·¨ì•½**: ì°¨ë‹¨ëœ ì‚¬ìš©ìë„ ëª‡ ì´ˆ ì¶©ì „ ê°€ëŠ¥
- âŒ **ì‚¬í›„ ê²€ì¦**: ì´ë¯¸ ì¶©ì „ ì‹œì‘ëœ í›„ í™•ì¸

---

#### ğŸ¯ ì¤‘ìš”: StartTransaction.reqì˜ idTagëŠ” í•­ìƒ ê²€ì¦í•´ì•¼ í•œë‹¤!

**OCPP ìŠ¤í™ ìš”êµ¬ì‚¬í•­:**
> Central System SHALL check the authorization status of the idTag when processing the StartTransaction request.

**ë²ˆì—­:**
> ì¤‘ì•™ ì‹œìŠ¤í…œì€ StartTransaction ìš”ì²­ì„ ì²˜ë¦¬í•  ë•Œ idTagì˜ ì¸ì¦ ìƒíƒœë¥¼ í™•ì¸í•´ì•¼ í•œë‹¤(SHALL).

##### ì™œ StartTransaction.reqì—ì„œ ë‹¤ì‹œ ê²€ì¦í•˜ëŠ”ê°€?

**ì´ìœ  1: ë¡œì»¬ ë°ì´í„°ëŠ” ë‚¡ì„ ìˆ˜ ìˆë‹¤ (Stale Data)**

```
ì‹œë‚˜ë¦¬ì˜¤: Authorization Cacheê°€ ì˜¤ë˜ë¨

1ì›” 1ì¼  â†’ CP: Cache ì—…ë°ì´íŠ¸ ("USER_001" = Accepted)
1ì›” 15ì¼ â†’ CS: ì‚¬ìš©ì ì°¨ë‹¨ ì²˜ë¦¬ (DB ì—…ë°ì´íŠ¸)
          í•˜ì§€ë§Œ CPì˜ CacheëŠ” ì—¬ì „íˆ Accepted!
          
1ì›” 20ì¼ â†’ ì‚¬ìš©ì RFID íƒœê·¸
          CP: Cache í™•ì¸ â†’ Accepted âœ… (êµ¬ë²„ì „!)
          CP: StartTransaction.req
          CS: DB í™•ì¸ â†’ Blocked âŒ (ìµœì‹ !)
          CS: StartTransaction.conf { status: "Blocked" }
          CP: ì¦‰ì‹œ ì¶©ì „ ì¤‘ì§€!
```

**ê²°ë¡ :** Local List/CacheëŠ” ì˜¤í”„ë¼ì¸ ëŒ€ì‘ìš©ì´ì§€, ìµœì¢… íŒë‹¨ì´ ì•„ë‹™ë‹ˆë‹¤!

**ì´ìœ  2: ë³´ì•ˆ (2-Factor Authentication)**

```
1ì°¨ ê²€ì¦ (CP):
  - Local List (ì˜¤í”„ë¼ì¸ ë°±ì—…)
  - Authorization Cache (ìºì‹œëœ ì •ë³´)
  - Authorize.req (ì‹¤ì‹œê°„ í™•ì¸, ì„ íƒì )
  â†’ "ì•„ë§ˆë„ ê´œì°®ì„ ê±°ì•¼" (Probably OK)

2ì°¨ ê²€ì¦ (CS):
  - StartTransaction.req ìˆ˜ì‹  ì‹œ
  - ìµœì‹  DB í™•ì¸
  - eMSP ì—°ë™ (íƒ€ì‚¬ ì¹´ë“œ)
  â†’ "100% í™•ì‹¤í•´!" (Definitely OK or NOT OK)
```

**ì´ìœ  3: false ëª¨ë“œì—ì„œ ìœ ì¼í•œ ê²€ì¦ ê¸°íšŒ**

AuthorizeRemoteTxRequests=falseì¼ ë•ŒëŠ” StartTransaction.reqê°€ **ìœ ì¼í•œ ê²€ì¦ ê¸°íšŒ**ì…ë‹ˆë‹¤!

##### ê²€ì¦ ì±…ì„ ë§¤íŠ¸ë¦­ìŠ¤

| ìƒí™© | 1ì°¨ ê²€ì¦ | 2ì°¨ ê²€ì¦ (StartTransaction) | ë¹„ê³  |
|------|---------|----------------------------|------|
| **ë¡œì»¬ RFID** | CP (Local List/Cache) | **CS (DB) âœ… í•„ìˆ˜** | 2ì¤‘ ê²€ì¦ |
| **Remote Start (true)** | CP (Authorize.req) | **CS (DB) âœ… í•„ìˆ˜** | 2ì¤‘ ê²€ì¦ |
| **Remote Start (false)** | âŒ ì—†ìŒ | **CS (DB) âœ… í•„ìˆ˜** | ìœ ì¼í•œ ê²€ì¦! |

##### ì¤‘ì•™ ì‹œìŠ¤í…œ êµ¬í˜„ ì˜ˆì‹œ

```typescript
// âœ… ì˜¬ë°”ë¥¸ êµ¬í˜„: í•­ìƒ ê²€ì¦!
async function handleStartTransaction(req: StartTransactionRequest) {
  const { connectorId, idTag, meterStart, timestamp } = req;
  
  // 1. idTag ê²€ì¦ (ë¬´ì¡°ê±´!)
  const user = await db.findUserByIdTag(idTag);
  
  let idTagInfo: IdTagInfo;
  
  if (!user) {
    idTagInfo = { status: "Invalid" };
  } else if (user.blocked) {
    idTagInfo = { status: "Blocked" };
  } else if (user.expiryDate < new Date()) {
    idTagInfo = { status: "Expired" };
  } else if (user.hasActiveTransaction && !allowConcurrent) {
    idTagInfo = { status: "ConcurrentTx" };
  } else {
    idTagInfo = { 
      status: "Accepted",
      expiryDate: user.expiryDate,
      parentIdTag: user.parentIdTag
    };
  }
  
  // 2. íŠ¸ëœì­ì…˜ ìƒì„±
  const transactionId = await generateTransactionId();
  
  await db.createTransaction({
    transactionId,
    chargePointId: req.chargePointId,
    connectorId,
    idTag,
    meterStart,
    startTime: timestamp,
    status: idTagInfo.status === "Accepted" ? "Active" : "Blocked"
  });
  
  // 3. ì‘ë‹µ
  return { transactionId, idTagInfo };
}
```

```typescript
// âŒ ì˜ëª»ëœ êµ¬í˜„: ê²€ì¦ ìƒëµ
async function handleStartTransactionBad(req: StartTransactionRequest) {
  // "ì¶©ì „ê¸°ê°€ í™•ì¸í–ˆê² ì§€?" â†’ ìœ„í—˜!
  return { 
    transactionId: generateId(),
    idTagInfo: { status: "Accepted" } // ë¬´ì¡°ê±´ Accepted? NO!
  };
}
```

---

#### ğŸ’¡ ì‹¤ì „ ê¶Œì¥ì‚¬í•­

##### ğŸ”’ ë³´ì•ˆ ì¤‘ì‹œ (ê¶Œì¥)

```
AuthorizeRemoteTxRequests = true

âœ… ì‚¬ì „ ê²€ì¦ (ì¶©ì „ ì „ í™•ì¸)
âœ… ì°¨ë‹¨ëœ ì‚¬ìš©ì ì¦‰ì‹œ ê±°ë¶€
âœ… Local List/Cache í™œìš© (ì˜¤í”„ë¼ì¸ ëŒ€ì‘)
âš ï¸ Authorize.req ì¶”ê°€ (ì•½ê°„ ëŠë¦¼)
```

##### âš¡ ì†ë„ ì¤‘ì‹œ (ë¹„ê¶Œì¥)

```
AuthorizeRemoteTxRequests = false

âœ… ì¦‰ì‹œ ì¶©ì „ ì‹œì‘ (ë¹ ë¦„)
âŒ ì°¨ë‹¨ëœ ì‚¬ìš©ìë„ ëª‡ ì´ˆ ì¶©ì „ ê°€ëŠ¥
âŒ ë³´ì•ˆ ì·¨ì•½
```

---

## 5.12. Remote Stop Transaction (ì›ê²© íŠ¸ëœì­ì…˜ ì¤‘ì§€)

ì¤‘ì•™ ì‹œìŠ¤í…œì€ íŠ¸ëœì­ì…˜ì˜ ì‹ë³„ìì™€ í•¨ê»˜ RemoteStopTransaction.reqë¥¼ ì¶©ì „ê¸°ë¡œ ì „ì†¡í•˜ì—¬ ì¶©ì „ê¸°ì— íŠ¸ëœì­ì…˜ ì¤‘ì§€ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆë‹¤. ì¶©ì „ê¸°ëŠ” RemoteStopTransaction.confë¡œ ì‘ë‹µí•´ì•¼ í•˜ë©°(SHALL) ìš”ì²­ì„ ìˆ˜ë½í–ˆëŠ”ì§€ ì—¬ë¶€ì™€ ì£¼ì–´ì§„ transactionIdë¥¼ ê°€ì§„ íŠ¸ëœì­ì…˜ì´ ì§„í–‰ ì¤‘ì´ë©° ì¤‘ì§€ë  ê²ƒì¸ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìƒíƒœë¥¼ í¬í•¨í•´ì•¼ í•œë‹¤.

íŠ¸ëœì­ì…˜ì„ ì¤‘ì§€í•˜ëŠ” ì´ ì›ê²© ìš”ì²­ì€ íŠ¸ëœì­ì…˜ì„ ì¤‘ì§€í•˜ëŠ” ë¡œì»¬ ë™ì‘ê³¼ ë™ì¼í•˜ë‹¤. ë”°ë¼ì„œ íŠ¸ëœì­ì…˜ì´ ì¤‘ì§€ë˜ì–´ì•¼ í•˜ë©°(SHALL), ì¶©ì „ê¸°ëŠ” StopTransaction.reqë¥¼ ì „ì†¡í•´ì•¼ í•˜ê³ (SHALL), í•´ë‹¹í•˜ëŠ” ê²½ìš° ì»¤ë„¥í„°ë¥¼ ì ê¸ˆ í•´ì œí•´ì•¼ í•œë‹¤.

Remote Stop Transactionì˜ ë‘ ê°€ì§€ ì£¼ìš” ì‚¬ìš© ì‚¬ë¡€ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤:

- CPO ìš´ì˜ìê°€ íŠ¸ëœì­ì…˜ ì¤‘ì§€ì— ë¬¸ì œê°€ ìˆëŠ” EV ìš´ì „ìë¥¼ ì§€ì›í•  ìˆ˜ ìˆë„ë¡ í•¨.
- ëª¨ë°”ì¼ ì•±ì´ ì¤‘ì•™ ì‹œìŠ¤í…œì„ í†µí•´ ì¶©ì „ íŠ¸ëœì­ì…˜ì„ ì œì–´í•  ìˆ˜ ìˆë„ë¡ í•¨.

---

### ğŸ“‹ ì±…ì„ ë§¤íŠ¸ë¦­ìŠ¤: Remote Start/Stop Transaction

#### ğŸ¯ 5.11 Remote Start Transaction ì—­í• ë³„ ì±…ì„

| ì—­í•  | ì±…ì„ ì‚¬í•­ | OCPP ìš”êµ¬ì‚¬í•­ | ë¹„ê³  |
|------|----------|--------------|------|
| **ì¤‘ì•™ ì‹œìŠ¤í…œ (CS)** | | | |
| â”£ ìš”ì²­ ë°œì‹  | RemoteStartTransaction.req ì „ì†¡ | SHALL | idTag í•„ìˆ˜, connectorId ì„ íƒ |
| â”£ ì‘ë‹µ ìˆ˜ì‹  | RemoteStartTransaction.conf í™•ì¸ | SHALL | Accepted/Rejected í™•ì¸ |
| â”£ StartTransaction ìˆ˜ì‹  | StartTransaction.req ìˆ˜ì‹  ëŒ€ê¸° | SHALL | íŠ¸ëœì­ì…˜ ì‹œì‘ í™•ì¸ |
| â”£ **idTag ê²€ì¦** | **DBì—ì„œ idTag ì¸ì¦ ìƒíƒœ í™•ì¸** | **SHALL** | âš ï¸ í•„ìˆ˜! |
| â”— íŠ¸ëœì­ì…˜ ê´€ë¦¬ | transactionId í• ë‹¹ ë° DB ì €ì¥ | SHALL | StartTransaction.confë¡œ ì‘ë‹µ |
| **ì¶©ì „ê¸° (CP)** | | | |
| â”£ ìš”ì²­ ìˆ˜ì‹  | RemoteStartTransaction.req ìˆ˜ì‹  | SHALL | |
| â”£ ì‘ë‹µ ë°œì‹  | RemoteStartTransaction.conf ì „ì†¡ | SHALL | Accepted/Rejected |
| â”£ **ì¸ì¦ ì²˜ë¦¬** | **AuthorizeRemoteTxRequests ì„¤ì • í™•ì¸** | **SHALL** | true/false ë¶„ê¸° |
| â”ƒ â”£ true ëª¨ë“œ | Local List â†’ Cache â†’ Authorize.req | SHALL | ë¡œì»¬ RFIDì²˜ëŸ¼ ë™ì‘ |
| â”ƒ â”— false ëª¨ë“œ | ì¦‰ì‹œ ì¶©ì „ ì‹œì‘ (ì¸ì¦ ìƒëµ) | SHALL | âš ï¸ ë³´ì•ˆ ì·¨ì•½ |
| â”£ íŠ¸ëœì­ì…˜ ì‹œì‘ | StartTransaction.req ì „ì†¡ | SHALL | ì¶©ì „ ì‹œì‘ í›„ |
| â”£ ì‘ë‹µ ìˆ˜ì‹  | StartTransaction.conf ìˆ˜ì‹  | SHALL | idTagInfo í™•ì¸ |
| â”— ì°¨ë‹¨ ì²˜ë¦¬ | status=Blocked ì‹œ ì¶©ì „ ì¤‘ì§€ | SHALL | StopTransaction.req ì „ì†¡ |
| **EV ìš´ì „ì** | | | |
| â”£ ì¶©ì „ ìš”ì²­ | ëª¨ë°”ì¼ ì•±/SMS/í—¬í”„ë°ìŠ¤í¬ ìš”ì²­ | - | CSì— ìš”ì²­ ì „ë‹¬ |
| â”£ ìƒíƒœ í™•ì¸ | ì•±ì—ì„œ ì¶©ì „ ì‹œì‘ í™•ì¸ | - | UI/UX |
| â”— ì¶©ì „ ì§„í–‰ | ì°¨ëŸ‰ ì¶©ì „ | - | |

---

#### ğŸ›‘ 5.12 Remote Stop Transaction ì—­í• ë³„ ì±…ì„

| ì—­í•  | ì±…ì„ ì‚¬í•­ | OCPP ìš”êµ¬ì‚¬í•­ | ë¹„ê³  |
|------|----------|--------------|------|
| **ì¤‘ì•™ ì‹œìŠ¤í…œ (CS)** | | | |
| â”£ ìš”ì²­ ë°œì‹  | RemoteStopTransaction.req ì „ì†¡ | SHALL | transactionId í•„ìˆ˜ |
| â”£ ì‘ë‹µ ìˆ˜ì‹  | RemoteStopTransaction.conf í™•ì¸ | SHALL | Accepted/Rejected í™•ì¸ |
| â”£ StopTransaction ìˆ˜ì‹  | StopTransaction.req ìˆ˜ì‹  ëŒ€ê¸° | SHALL | íŠ¸ëœì­ì…˜ ì¢…ë£Œ í™•ì¸ |
| â”£ ë¯¸í„° ë°ì´í„° ì €ì¥ | meterStop, transactionData ì €ì¥ | SHALL | ê³¼ê¸ˆ ë°ì´í„° |
| â”— íŠ¸ëœì­ì…˜ ì¢…ë£Œ | DBì—ì„œ íŠ¸ëœì­ì…˜ ìƒíƒœ ì—…ë°ì´íŠ¸ | SHALL | ì¢…ë£Œ ì²˜ë¦¬ |
| **ì¶©ì „ê¸° (CP)** | | | |
| â”£ ìš”ì²­ ìˆ˜ì‹  | RemoteStopTransaction.req ìˆ˜ì‹  | SHALL | |
| â”£ transactionId í™•ì¸ | ì§„í–‰ ì¤‘ì¸ íŠ¸ëœì­ì…˜ ì¡´ì¬ í™•ì¸ | SHALL | Accepted/Rejected íŒë‹¨ |
| â”£ ì‘ë‹µ ë°œì‹  | RemoteStopTransaction.conf ì „ì†¡ | SHALL | |
| â”£ **ì¶©ì „ ì¤‘ì§€** | **íŠ¸ëœì­ì…˜ ì¦‰ì‹œ ì¤‘ì§€** | **SHALL** | ë¡œì»¬ ì¤‘ì§€ì™€ ë™ì¼ |
| â”£ StopTransaction ë°œì‹  | StopTransaction.req ì „ì†¡ | SHALL | reason, meterStop í¬í•¨ |
| â”£ ì»¤ë„¥í„° ì ê¸ˆ í•´ì œ | ì¼€ì´ë¸” ê³ ì • ì¥ì¹˜ í•´ì œ | SHALL | í•´ë‹¹í•˜ëŠ” ê²½ìš° |
| â”— ìƒíƒœ ì—…ë°ì´íŠ¸ | StatusNotification.req ì „ì†¡ | SHOULD | Available ìƒíƒœ |
| **EV ìš´ì „ì** | | | |
| â”£ ì¤‘ì§€ ìš”ì²­ | ëª¨ë°”ì¼ ì•±/SMS/í—¬í”„ë°ìŠ¤í¬ ìš”ì²­ | - | CSì— ìš”ì²­ ì „ë‹¬ |
| â”£ ìƒíƒœ í™•ì¸ | ì•±ì—ì„œ ì¶©ì „ ì¤‘ì§€ í™•ì¸ | - | UI/UX |
| â”— ì¼€ì´ë¸” ì œê±° | ì¶©ì „ ì¼€ì´ë¸” ë¶„ë¦¬ | - | ë¬¼ë¦¬ì  ë™ì‘ |

---

#### ğŸ”„ Remote Start/Stop ë¹„êµ ë§¤íŠ¸ë¦­ìŠ¤

| êµ¬ë¶„ | Remote Start | Remote Stop | ë¹„ê³  |
|------|-------------|-------------|------|
| **íŠ¸ë¦¬ê±°** | CS â†’ CP | CS â†’ CP | ì¤‘ì•™ ì‹œìŠ¤í…œì´ ì‹œì‘ |
| **í•„ìˆ˜ íŒŒë¼ë¯¸í„°** | idTag, (connectorId) | transactionId | |
| **ê²€ì¦ ì£¼ì²´** | CP (ì„ íƒì ) + **CS (í•„ìˆ˜)** | CP (transactionId ì¡´ì¬ í™•ì¸) | |
| **ë¡œì»¬ ë™ì‘ ìœ ì‚¬ì„±** | RFID íƒœê·¸ì™€ ë™ì¼ | ë¡œì»¬ ì¤‘ì§€ ë²„íŠ¼ê³¼ ë™ì¼ | |
| **AuthorizeRemoteTxRequests** | âœ… ì˜í–¥ ìˆìŒ (true/false) | âŒ ì˜í–¥ ì—†ìŒ | Startë§Œ í•´ë‹¹ |
| **ì£¼ìš” ë©”ì‹œì§€ íë¦„** | RemoteStart â†’ (Authorize) â†’ StartTransaction | RemoteStop â†’ StopTransaction | |
| **ì‹¤íŒ¨ ì¼€ì´ìŠ¤** | idTag ì°¨ë‹¨, ì»¤ë„¥í„° ì‚¬ìš© ì¤‘ | transactionId ì—†ìŒ, ì´ë¯¸ ì¤‘ì§€ë¨ | |
| **ì‚¬ìš© ì‚¬ë¡€** | ëª¨ë°”ì¼ ì•± ì¶©ì „ ì‹œì‘, í—¬í”„ë°ìŠ¤í¬ ì§€ì› | ëª¨ë°”ì¼ ì•± ì¶©ì „ ì¤‘ì§€, í—¬í”„ë°ìŠ¤í¬ ì§€ì› | |

---

#### âš ï¸ ì¤‘ìš” êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

##### Remote Start Transaction êµ¬í˜„ ì‹œ

**ì¤‘ì•™ ì‹œìŠ¤í…œ:**
- [ ] RemoteStartTransaction.reqì— ìœ íš¨í•œ idTag í¬í•¨
- [ ] connectorId ì§€ì • (ì¶©ì „ê¸°ê°€ ìš”êµ¬í•˜ëŠ” ê²½ìš°)
- [ ] **StartTransaction.req ìˆ˜ì‹  ì‹œ idTag ê²€ì¦ (í•„ìˆ˜!)**
- [ ] DBì—ì„œ ì‚¬ìš©ì ìƒíƒœ í™•ì¸ (ì°¨ë‹¨/ë§Œë£Œ/ìœ íš¨)
- [ ] StartTransaction.confì— ì •í™•í•œ idTagInfo ë°˜í™˜
- [ ] transactionId ìƒì„± ë° DB ì €ì¥

**ì¶©ì „ê¸°:**
- [ ] AuthorizeRemoteTxRequests ì„¤ì •ê°’ í™•ì¸
- [ ] true ëª¨ë“œ: Local List â†’ Cache â†’ Authorize.req ìˆœì„œë¡œ ê²€ì¦
- [ ] false ëª¨ë“œ: ì¦‰ì‹œ ì‹œì‘ (ë³´ì•ˆ ì£¼ì˜!)
- [ ] ì»¤ë„¥í„° ìƒíƒœ í™•ì¸ (Available/Reserved ì—¬ë¶€)
- [ ] StartTransaction.req ì „ì†¡ (idTag, connectorId, meterStart, timestamp)
- [ ] StartTransaction.confì˜ idTagInfo.status í™•ì¸
- [ ] Blocked ì‘ë‹µ ì‹œ ì¦‰ì‹œ StopTransaction.req ì „ì†¡

##### Remote Stop Transaction êµ¬í˜„ ì‹œ

**ì¤‘ì•™ ì‹œìŠ¤í…œ:**
- [ ] RemoteStopTransaction.reqì— ìœ íš¨í•œ transactionId í¬í•¨
- [ ] StopTransaction.req ìˆ˜ì‹  ëŒ€ê¸°
- [ ] meterStop, transactionData ì €ì¥
- [ ] ê³¼ê¸ˆ ê³„ì‚° ë° ì²˜ë¦¬
- [ ] DBì—ì„œ íŠ¸ëœì­ì…˜ ì¢…ë£Œ ì²˜ë¦¬

**ì¶©ì „ê¸°:**
- [ ] transactionId ì¡´ì¬ ì—¬ë¶€ í™•ì¸
- [ ] ì§„í–‰ ì¤‘ì¸ íŠ¸ëœì­ì…˜ì¸ì§€ ê²€ì¦
- [ ] ì¶©ì „ ì¦‰ì‹œ ì¤‘ì§€
- [ ] StopTransaction.req ì „ì†¡ (transactionId, reason, meterStop)
- [ ] ì»¤ë„¥í„° ì ê¸ˆ í•´ì œ (í•´ë‹¹í•˜ëŠ” ê²½ìš°)
- [ ] StatusNotification.req ì „ì†¡ (Available)

---

#### ğŸ’¡ ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤

##### ì‹œë‚˜ë¦¬ì˜¤ 1: ëª¨ë°”ì¼ ì•±ìœ¼ë¡œ ì¶©ì „ ì‹œì‘ (AuthorizeRemoteTxRequests=true)

```
1. ì‚¬ìš©ì: ëª¨ë°”ì¼ ì•±ì—ì„œ "ì¶©ì „ ì‹œì‘" ë²„íŠ¼ í´ë¦­
2. ëª¨ë°”ì¼ ì•± â†’ CS: API í˜¸ì¶œ (userId, chargePointId, connectorId)
3. CS â†’ CP: RemoteStartTransaction.req {
     idTag: "APP_USER_12345",
     connectorId: 1
   }
4. CP: Local List í™•ì¸ â†’ ì—†ìŒ
5. CP: Authorization Cache í™•ì¸ â†’ ìˆìŒ (status: Accepted)
6. CP â†’ CS: RemoteStartTransaction.conf { status: "Accepted" }
7. CP: ì¶©ì „ ì‹œì‘
8. CP â†’ CS: StartTransaction.req {
     connectorId: 1,
     idTag: "APP_USER_12345",
     meterStart: 0,
     timestamp: "2026-01-19T10:30:00Z"
   }
9. CS: DB í™•ì¸ â†’ ì‚¬ìš©ì ìœ íš¨ âœ…
10. CS â†’ CP: StartTransaction.conf {
      transactionId: 98765,
      idTagInfo: { status: "Accepted" }
    }
11. ëª¨ë°”ì¼ ì•±: "ì¶©ì „ ì‹œì‘ë¨" í‘œì‹œ
```

##### ì‹œë‚˜ë¦¬ì˜¤ 2: í—¬í”„ë°ìŠ¤í¬ì—ì„œ ì¶©ì „ ì¤‘ì§€

```
1. ì‚¬ìš©ì: í—¬í”„ë°ìŠ¤í¬ì— ì „í™” "ì¶©ì „ì´ ì•ˆ ë©ˆì¶°ìš”!"
2. ìš´ì˜ì: ì‹œìŠ¤í…œì—ì„œ transactionId í™•ì¸ (98765)
3. CS â†’ CP: RemoteStopTransaction.req {
     transactionId: 98765
   }
4. CP: transactionId í™•ì¸ â†’ ì§„í–‰ ì¤‘ âœ…
5. CP â†’ CS: RemoteStopTransaction.conf { status: "Accepted" }
6. CP: ì¶©ì „ ì¦‰ì‹œ ì¤‘ì§€
7. CP: ì»¤ë„¥í„° ì ê¸ˆ í•´ì œ
8. CP â†’ CS: StopTransaction.req {
     transactionId: 98765,
     meterStop: 15750,
     reason: "Remote",
     transactionData: [...]
   }
9. CS: ê³¼ê¸ˆ ê³„ì‚° (15.75 kWh)
10. ìš´ì˜ì: "ì¶©ì „ì´ ì¤‘ì§€ë˜ì—ˆìŠµë‹ˆë‹¤" ì•ˆë‚´
```

##### ì‹œë‚˜ë¦¬ì˜¤ 3: ì°¨ë‹¨ëœ ì‚¬ìš©ì Remote Start ì‹œë„ (AuthorizeRemoteTxRequests=false)

```
1. CS â†’ CP: RemoteStartTransaction.req {
     idTag: "BLOCKED_USER_999"
   }
2. CP: ì¸ì¦ ìƒëµ (false ëª¨ë“œ)
3. CP â†’ CS: RemoteStartTransaction.conf { status: "Accepted" }
4. CP: ì¶©ì „ ì¦‰ì‹œ ì‹œì‘ âš ï¸
5. CP â†’ CS: StartTransaction.req {
     idTag: "BLOCKED_USER_999",
     ...
   }
6. CS: DB í™•ì¸ â†’ ì°¨ë‹¨ëœ ì‚¬ìš©ì! âŒ
7. CS â†’ CP: StartTransaction.conf {
     transactionId: 99999,
     idTagInfo: { status: "Blocked" }
   }
8. CP: Blocked ì‘ë‹µ í™•ì¸
9. CP: ì¶©ì „ ì¦‰ì‹œ ì¤‘ì§€ (ëª‡ ì´ˆ ë™ì•ˆ ì¶©ì „ë¨ ğŸ’¸)
10. CP â†’ CS: StopTransaction.req {
      transactionId: 99999,
      reason: "DeAuthorized",
      meterStop: 50  // ì†ŒëŸ‰ì´ì§€ë§Œ ì¶©ì „ë¨!
    }
```

**êµí›ˆ:** AuthorizeRemoteTxRequests=trueë¥¼ ì‚¬ìš©í•˜ë©´ ì´ ë¬¸ì œ ë°©ì§€!

---

## 5.13. Reserve Now (ì§€ê¸ˆ ì˜ˆì•½)

ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì— ReserveNow.reqë¥¼ ë°œí–‰í•˜ì—¬ íŠ¹ì • idTagê°€ ì‚¬ìš©í•  ì»¤ë„¥í„°ë¥¼ ì˜ˆì•½í•  ìˆ˜ ìˆë‹¤.

ì˜ˆì•½ì„ ìš”ì²­í•˜ê¸° ìœ„í•´ ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì— ReserveNow.req PDUë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL). ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì˜ˆì•½í•  ì»¤ë„¥í„°ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤(MAY). ReserveNow.req PDUë¥¼ ìˆ˜ì‹ í•˜ë©´, ì¶©ì „ê¸°ëŠ” ReserveNow.conf PDUë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL).

ìš”ì²­ì˜ reservationIdê°€ ì¶©ì „ê¸°ì˜ ì˜ˆì•½ê³¼ ì¼ì¹˜í•˜ë©´, ì¶©ì „ê¸°ëŠ” í•´ë‹¹ ì˜ˆì•½ì„ ìš”ì²­ì˜ ìƒˆ ì˜ˆì•½ìœ¼ë¡œ êµì²´í•´ì•¼ í•œë‹¤(SHALL).

reservationIdê°€ ì¶©ì „ê¸°ì˜ ì–´ë–¤ ì˜ˆì•½ê³¼ë„ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´, ì¶©ì „ê¸°ëŠ” ì»¤ë„¥í„° ì˜ˆì•½ì— ì„±ê³µí•œ ê²½ìš° ìƒíƒœ ê°’ 'Accepted'ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤(SHALL). ì¶©ì „ê¸° ë˜ëŠ” ì§€ì •ëœ ì»¤ë„¥í„°ê°€ ì ìœ  ì¤‘ì¸ ê²½ìš° ì¶©ì „ê¸°ëŠ” 'Occupied'ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤(SHALL). ì¶©ì „ê¸° ë˜ëŠ” ì»¤ë„¥í„°ê°€ ë™ì¼í•˜ê±°ë‚˜ ë‹¤ë¥¸ idTagì— ëŒ€í•´ ì˜ˆì•½ëœ ê²½ìš°ì—ë„ ì¶©ì „ê¸°ëŠ” 'Occupied'ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤(SHALL). ì¶©ì „ê¸° ë˜ëŠ” ì»¤ë„¥í„°ê°€ Faulted ìƒíƒœì¸ ê²½ìš° ì¶©ì „ê¸°ëŠ” 'Faulted'ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤(SHALL). ì¶©ì „ê¸° ë˜ëŠ” ì»¤ë„¥í„°ê°€ Unavailable ìƒíƒœì¸ ê²½ìš° ì¶©ì „ê¸°ëŠ” 'Unavailable'ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤(SHALL). ì¶©ì „ê¸°ê°€ ì˜ˆì•½ì„ ìˆ˜ë½í•˜ì§€ ì•Šë„ë¡ êµ¬ì„±ëœ ê²½ìš° ì¶©ì „ê¸°ëŠ” 'Rejected'ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤(SHALL).

ì¶©ì „ê¸°ê°€ ì˜ˆì•½ ìš”ì²­ì„ ìˆ˜ë½í•˜ë©´, ë“¤ì–´ì˜¤ëŠ” idTag ë˜ëŠ” parent idTagê°€ ì˜ˆì•½ì˜ idTag ë˜ëŠ” parent idTagì™€ ì¼ì¹˜í•˜ëŠ” ê²½ìš°ë¥¼ ì œì™¸í•˜ê³  ì˜ˆì•½ëœ ì»¤ë„¥í„°ì˜ ëª¨ë“  ë“¤ì–´ì˜¤ëŠ” idTagì— ëŒ€í•œ ì¶©ì „ì„ ê±°ë¶€í•´ì•¼ í•œë‹¤(SHALL).

êµ¬ì„± í‚¤ ReserveConnectorZeroSupportedê°€ trueë¡œ ì„¤ì •ëœ ê²½ìš°, ì¶©ì „ê¸°ëŠ” ì»¤ë„¥í„° 0ì— ëŒ€í•œ ì˜ˆì•½ì„ ì§€ì›í•œë‹¤. ì˜ˆì•½ ìš”ì²­ì˜ connectorIdê°€ 0ì´ë©´, ì¶©ì „ê¸°ëŠ” íŠ¹ì • ì»¤ë„¥í„°ë¥¼ ì˜ˆì•½í•´ì„œëŠ” ì•ˆ ë˜ë©°(SHALL NOT), ì˜ˆì•½ ìœ íš¨ ê¸°ê°„ ë™ì•ˆ ì–¸ì œë“ ì§€ í•˜ë‚˜ì˜ ì»¤ë„¥í„°ê°€ ì˜ˆì•½ëœ idTagì— ëŒ€í•´ ì‚¬ìš© ê°€ëŠ¥í•œ ìƒíƒœë¡œ ìœ ì§€ë˜ë„ë¡ í•´ì•¼ í•œë‹¤(SHALL). êµ¬ì„± í‚¤ ReserveConnectorZeroSupportedê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ê±°ë‚˜ falseë¡œ ì„¤ì •ëœ ê²½ìš°, ì¶©ì „ê¸°ëŠ” 'Rejected'ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤(SHALL).

ì˜ˆì•½ì˜ parent idTagì— ê°’ì´ ìˆëŠ” ê²½ìš°(ì„ íƒ ì‚¬í•­), ë“¤ì–´ì˜¤ëŠ” idTagì™€ ì—°ê²°ëœ parent idTagë¥¼ ê²°ì •í•˜ê¸° ìœ„í•´ ì¶©ì „ê¸°ëŠ” Local Authorization List ë˜ëŠ” Authorization Cacheì—ì„œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤(MAY). Local Authorization List ë˜ëŠ” Authorization Cacheì—ì„œ ì°¾ì„ ìˆ˜ ì—†ìœ¼ë©´, ì¶©ì „ê¸°ëŠ” ë“¤ì–´ì˜¤ëŠ” idTagì— ëŒ€í•´ ì¤‘ì•™ ì‹œìŠ¤í…œì— Authorize.reqë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL). Authorize.conf ì‘ë‹µì€ parent-idë¥¼ í¬í•¨í•  ìˆ˜ ìˆë‹¤(MAY).

ì˜ˆì•½ì€ (1) ì˜ˆì•½ëœ idTag ë˜ëŠ” parent idTagì— ëŒ€í•œ íŠ¸ëœì­ì…˜ì´ ì˜ˆì•½ëœ ì»¤ë„¥í„° ë˜ëŠ” ì˜ˆì•½ëœ connectorIdê°€ 0ì¼ ë•Œ ì„ì˜ì˜ ì»¤ë„¥í„°ì—ì„œ ì‹œì‘ë˜ê±°ë‚˜, (2) expiryDateì— ì§€ì •ëœ ì‹œê°„ì— ë„ë‹¬í•˜ê±°ë‚˜, (3) ì¶©ì „ê¸° ë˜ëŠ” ì»¤ë„¥í„°ê°€ Faulted ë˜ëŠ” Unavailableë¡œ ì„¤ì •ë  ë•Œ ì¶©ì „ê¸°ì—ì„œ ì¢…ë£Œë˜ì–´ì•¼ í•œë‹¤(SHALL).

ì˜ˆì•½ëœ idTagì— ëŒ€í•œ íŠ¸ëœì­ì…˜ì´ ì‹œì‘ë˜ë©´, ì¶©ì „ê¸°ëŠ” ì˜ˆì•½ì´ ì¢…ë£Œë˜ì—ˆìŒì„ ì¤‘ì•™ ì‹œìŠ¤í…œì— ì•Œë¦¬ê¸° ìœ„í•´ StartTransaction.req PDUì— reservationIdë¥¼ í¬í•¨í•˜ì—¬ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL)(Start Transaction ì°¸ì¡°).

ì˜ˆì•½ì´ ë§Œë£Œë˜ë©´, ì¶©ì „ê¸°ëŠ” ì˜ˆì•½ì„ ì¢…ë£Œí•˜ê³  ì»¤ë„¥í„°ë¥¼ ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤(SHALL). ì¶©ì „ê¸°ëŠ” ì˜ˆì•½ëœ ì»¤ë„¥í„°ê°€ ì´ì œ ì‚¬ìš© ê°€ëŠ¥í•¨ì„ ì¤‘ì•™ ì‹œìŠ¤í…œì— ì•Œë¦¬ê¸° ìœ„í•´ ìƒíƒœ ì•Œë¦¼ì„ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL).

ì¶©ì „ê¸°ê°€ Authorization Cacheë¥¼ êµ¬í˜„í•œ ê²½ìš°, ReserveNow.conf PDUë¥¼ ìˆ˜ì‹ í•˜ë©´ ì¶©ì „ê¸°ëŠ” idTagê°€ Local Authorization Listì— ì—†ëŠ” ê²½ìš°, Authorization Cacheì— ì„¤ëª…ëœ ëŒ€ë¡œ ì‘ë‹µì˜ IdTagInfo ê°’ìœ¼ë¡œ ìºì‹œ í•­ëª©ì„ ì—…ë°ì´íŠ¸í•´ì•¼ í•œë‹¤(SHALL).

> **ì°¸ê³ :** ReserveNow.reqë¥¼ ìˆ˜ì‹ í•œ í›„ íŠ¸ëœì­ì…˜ ì‹œì‘ ì „ì— authorize.reqë¡œ ì‹ë³„ìë¥¼ ê²€ì¦í•˜ëŠ” ê²ƒì´ ê¶Œì¥ëœë‹¤(RECOMMENDED).

## 5.14. Reset (ì¬ì„¤ì •)

ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì— ìì²´ ì¬ì„¤ì •ì„ ìš”ì²­í•˜ê¸° ìœ„í•´ Reset.req PDUë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL). ì¤‘ì•™ ì‹œìŠ¤í…œì€ í•˜ë“œ ë˜ëŠ” ì†Œí”„íŠ¸ ì¬ì„¤ì •ì„ ìš”ì²­í•  ìˆ˜ ìˆë‹¤. Reset.req PDUë¥¼ ìˆ˜ì‹ í•˜ë©´, ì¶©ì „ê¸°ëŠ” Reset.conf PDUë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL). ì‘ë‹µ PDUëŠ” ì¶©ì „ê¸°ê°€ ìì²´ ì¬ì„¤ì •ì„ ì‹œë„í•  ê²ƒì¸ì§€ ì—¬ë¶€ë¥¼ í¬í•¨í•´ì•¼ í•œë‹¤(SHALL).

Reset.reqë¥¼ ìˆ˜ì‹ í•œ í›„, ì¶©ì „ê¸°ëŠ” ì¬ì„¤ì •ì„ ìˆ˜í–‰í•˜ê¸° ì „ì— ì§„í–‰ ì¤‘ì¸ ëª¨ë“  íŠ¸ëœì­ì…˜ì— ëŒ€í•´ StopTransaction.reqë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL). ì¶©ì „ê¸°ê°€ ì¤‘ì•™ ì‹œìŠ¤í…œìœ¼ë¡œë¶€í„° StopTransaction.confë¥¼ ìˆ˜ì‹ í•˜ì§€ ëª»í•˜ë©´, StopTransaction.reqë¥¼ ëŒ€ê¸°ì—´ì— ë„£ì–´ì•¼ í•œë‹¤.

ì†Œí”„íŠ¸ ì¬ì„¤ì •ì„ ìˆ˜ì‹ í•˜ë©´, ì¶©ì „ê¸°ëŠ” ì§„í–‰ ì¤‘ì¸ íŠ¸ëœì­ì…˜ì„ ì •ìƒì ìœ¼ë¡œ ì¤‘ì§€í•˜ê³  ì§„í–‰ ì¤‘ì¸ ëª¨ë“  íŠ¸ëœì­ì…˜ì— ëŒ€í•´ StopTransaction.reqë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL). ê·¸ëŸ° ë‹¤ìŒ ì• í”Œë¦¬ì¼€ì´ì…˜ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì¬ì‹œì‘í•´ì•¼ í•œë‹¤(ê°€ëŠ¥í•˜ì§€ ì•Šìœ¼ë©´ í”„ë¡œì„¸ì„œ/ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì¬ì‹œì‘).

í•˜ë“œ ì¬ì„¤ì •ì„ ìˆ˜ì‹ í•˜ë©´ ì¶©ì „ê¸°ëŠ” (ëª¨ë“ ) í•˜ë“œì›¨ì–´ë¥¼ ì¬ì‹œì‘í•´ì•¼ í•˜ë©°(SHALL), ì§„í–‰ ì¤‘ì¸ íŠ¸ëœì­ì…˜ì„ ì •ìƒì ìœ¼ë¡œ ì¤‘ì§€í•  í•„ìš”ëŠ” ì—†ë‹¤. ê°€ëŠ¥í•œ ê²½ìš° ì¶©ì „ê¸°ëŠ” ì¬ì‹œì‘í•œ í›„ BootNotification.confë¥¼ í†µí•´ ì¤‘ì•™ ì‹œìŠ¤í…œì— ìˆ˜ë½ëœ í›„ ì´ì „ì— ì§„í–‰ ì¤‘ì´ë˜ íŠ¸ëœì­ì…˜ì— ëŒ€í•´ StopTransaction.reqë¥¼ ì „ì†¡í•œë‹¤. ì´ëŠ” ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ì§€ ì•ŠëŠ” ì¶©ì „ê¸°ë¥¼ ìœ„í•œ ìµœí›„ì˜ ìˆ˜ë‹¨ ì†”ë£¨ì…˜ìœ¼ë¡œ, "í•˜ë“œ" ì¬ì„¤ì •ì„ ì „ì†¡í•˜ë©´ (ëŒ€ê¸°ì—´ì— ìˆëŠ”) ì •ë³´ê°€ ì†ì‹¤ë  ìˆ˜ ìˆë‹¤.

> **ì°¸ê³ :** ì§€ì† ìƒíƒœ: ì˜ˆë¥¼ ë“¤ì–´ Unavailableë¡œ ì„¤ì •ëœ ì»¤ë„¥í„°ëŠ” ìœ ì§€ë˜ì–´ì•¼ í•œë‹¤.

## 5.15. Send Local List (ë¡œì»¬ ëª©ë¡ ì „ì†¡)

ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ê°€ idTag ì¸ì¦ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” Local Authorization Listë¥¼ ì „ì†¡í•  ìˆ˜ ìˆë‹¤. ëª©ë¡ì€ ì¶©ì „ê¸°ì˜ í˜„ì¬ ëª©ë¡ì„ ëŒ€ì²´í•˜ëŠ” ì „ì²´ ëª©ë¡ì´ê±°ë‚˜ ì¶©ì „ê¸°ì˜ í˜„ì¬ ëª©ë¡ì— ì ìš©í•  ì—…ë°ì´íŠ¸ê°€ ìˆëŠ” ì°¨ë“± ëª©ë¡ì¼ ìˆ˜ ìˆë‹¤(MAY).

ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì— ëª©ë¡ì„ ì „ì†¡í•˜ê¸° ìœ„í•´ SendLocalList.req PDUë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL). SendLocalList.req PDUëŠ” ì—…ë°ì´íŠ¸ ìœ í˜•(ì „ì²´ ë˜ëŠ” ì°¨ë“±)ê³¼ ì¶©ì „ê¸°ê°€ ì—…ë°ì´íŠ¸ëœ í›„ ë¡œì»¬ ì¸ì¦ ëª©ë¡ê³¼ ì—°ê²°í•´ì•¼ í•˜ëŠ” ë²„ì „ ë²ˆí˜¸ë¥¼ í¬í•¨í•´ì•¼ í•œë‹¤(SHALL).

SendLocalList.req PDUë¥¼ ìˆ˜ì‹ í•˜ë©´, ì¶©ì „ê¸°ëŠ” SendLocalList.conf PDUë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL). ì‘ë‹µ PDUëŠ” ì¶©ì „ê¸°ê°€ ë¡œì»¬ ì¸ì¦ ëª©ë¡ì˜ ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜ë½í–ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ì•¼ í•œë‹¤(SHALL). ìƒíƒœê°€ Failed ë˜ëŠ” VersionMismatchì´ê³  updateTypeì´ Differentialì¸ ê²½ìš°, ì¤‘ì•™ ì‹œìŠ¤í…œì€ updateType Fullë¡œ ì „ì²´ ë¡œì»¬ ì¸ì¦ ëª©ë¡ì„ ë‹¤ì‹œ ì „ì†¡í•´ì•¼ í•œë‹¤(SHOULD).

## 5.16. Set Charging Profile (ì¶©ì „ í”„ë¡œíŒŒì¼ ì„¤ì •)

ì¤‘ì•™ ì‹œìŠ¤í…œì€ ë‹¤ìŒ ìƒí™©ì—ì„œ ì¶©ì „ í”„ë¡œíŒŒì¼ì„ ì„¤ì •í•˜ê¸° ìœ„í•´ ì¶©ì „ê¸°ì— SetChargingProfile.reqë¥¼ ì „ì†¡í•  ìˆ˜ ìˆë‹¤:

- íŠ¸ëœì­ì…˜ ì‹œì‘ ì‹œ íŠ¸ëœì­ì…˜ì— ëŒ€í•œ ì¶©ì „ í”„ë¡œíŒŒì¼ì„ ì„¤ì •í•˜ê¸° ìœ„í•´;
- ì¶©ì „ê¸°ë¡œ ì „ì†¡ëœ RemoteStartTransaction.reqì—ì„œ;
- íŠ¸ëœì­ì…˜ ì¤‘ì— íŠ¸ëœì­ì…˜ì˜ í™œì„± í”„ë¡œíŒŒì¼ì„ ë³€ê²½í•˜ê¸° ìœ„í•´;
- íŠ¸ëœì­ì…˜ ì»¨í…ìŠ¤íŠ¸ ì™¸ë¶€ì—ì„œ ë³„ë„ì˜ ë©”ì‹œì§€ë¡œ ë¡œì»¬ ì»¨íŠ¸ë¡¤ëŸ¬, ì¶©ì „ê¸° ë˜ëŠ” ì»¤ë„¥í„°ì— ê¸°ë³¸ ì¶©ì „ í”„ë¡œíŒŒì¼ì„ ì„¤ì •í•˜ê¸° ìœ„í•´.

> **ì°¸ê³ :** íŠ¸ëœì­ì…˜ê³¼ TxProfile ê°„ì˜ ë¶ˆì¼ì¹˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´, í”„ë¡œíŒŒì¼ì´ íŠ¹ì • íŠ¸ëœì­ì…˜ì— ì ìš©ë˜ëŠ” ê²½ìš° ì¤‘ì•™ ì‹œìŠ¤í…œì€ SetChargingProfile.reqì— transactionIdë¥¼ í¬í•¨í•´ì•¼ í•œë‹¤(SHALL).

ì´ëŸ¬í•œ ìƒí™©ì€ ì•„ë˜ì— ì„¤ëª…ë˜ì–´ ìˆë‹¤.

### 5.16.1. Setting a charging profile at start of transaction (íŠ¸ëœì­ì…˜ ì‹œì‘ ì‹œ ì¶©ì „ í”„ë¡œíŒŒì¼ ì„¤ì •)

ì¤‘ì•™ ì‹œìŠ¤í…œì´ StartTransaction.reqë¥¼ ìˆ˜ì‹ í•˜ë©´ ì¤‘ì•™ ì‹œìŠ¤í…œì€ StartTransaction.confë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL). ì¶©ì „ í”„ë¡œíŒŒì¼ì´ í•„ìš”í•œ ê²½ìš°, ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì— SetChargingProfile.reqë¥¼ ì „ì†¡í•˜ë„ë¡ ì„ íƒí•  ìˆ˜ ìˆë‹¤(MAY).

íŠ¸ëœì­ì…˜ì´ ì—¬ì „íˆ ì§„í–‰ ì¤‘ì¼ ê°€ëŠ¥ì„±ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì¶©ì „ í”„ë¡œíŒŒì¼ì„ ì „ì†¡í•˜ê¸° ì „ì— StartTransaction.req PDUì˜ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì´ ê¶Œì¥ëœë‹¤(RECOMMENDED). StartTransaction.reqëŠ” ì˜¤í”„ë¼ì¸ ê¸°ê°„ ë™ì•ˆ ìºì‹œë˜ì—ˆì„ ìˆ˜ ìˆë‹¤.

### 5.16.2. Setting a charge profile in a RemoteStartTransaction request (RemoteStartTransaction ìš”ì²­ì—ì„œ ì¶©ì „ í”„ë¡œíŒŒì¼ ì„¤ì •)

ì¤‘ì•™ ì‹œìŠ¤í…œì€ RemoteStartTransaction ìš”ì²­ì— ì¶©ì „ í”„ë¡œíŒŒì¼ì„ í¬í•¨í•  ìˆ˜ ìˆë‹¤(MAY).

ì¤‘ì•™ ì‹œìŠ¤í…œì´ ChargingProfileì„ í¬í•¨í•˜ëŠ” ê²½ìš°, ChargingProfilePurposeëŠ” TxProfileë¡œ ì„¤ì •ë˜ì–´ì•¼ í•˜ë©°(MUST) transactionIdëŠ” ì„¤ì •ë˜ì–´ì„œëŠ” ì•ˆ ëœë‹¤(SHALL NOT).

> **ì°¸ê³ :** ì¶©ì „ê¸°ëŠ” ì£¼ì–´ì§„ í”„ë¡œíŒŒì¼ì„ ìƒˆë¡œ ì‹œì‘ëœ íŠ¸ëœì­ì…˜ì— ì ìš©í•´ì•¼ í•œë‹¤(SHALL). ì´ íŠ¸ëœì­ì…˜ì€ StartTransaction.confë¥¼ í†µí•´ ì¤‘ì•™ ì‹œìŠ¤í…œì´ í• ë‹¹í•œ transactionIdë¥¼ ë°›ëŠ”ë‹¤. ì¶©ì „ê¸°ê°€ ì´ íŠ¸ëœì­ì…˜ì˜ transactionIdì™€ í•¨ê»˜ RemoteStartTransaction.reqì— ì£¼ì–´ì§„ í”„ë¡œíŒŒì¼ê³¼ ë™ì¼í•œ StackLevelì„ ê°€ì§„ SetChargingProfile.reqë¥¼ ìˆ˜ì‹ í•˜ë©´, ì¶©ì „ê¸°ëŠ” ê¸°ì¡´ ì¶©ì „ í”„ë¡œíŒŒì¼ì„ êµì²´í•´ì•¼ í•˜ë©°(SHALL), ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” í”„ë¡œíŒŒì¼ ì˜†ì— í”„ë¡œíŒŒì¼ì„ ì„¤ì¹˜/ìŠ¤íƒí•´ì•¼ í•œë‹¤(SHALL).

### 5.16.3. Setting a charging profile during a transaction (íŠ¸ëœì­ì…˜ ì¤‘ ì¶©ì „ í”„ë¡œíŒŒì¼ ì„¤ì •)

ì¤‘ì•™ ì‹œìŠ¤í…œì€ í•´ë‹¹ íŠ¸ëœì­ì…˜ì˜ ì¶©ì „ í”„ë¡œíŒŒì¼ì„ ì—…ë°ì´íŠ¸í•˜ê¸° ìœ„í•´ ì¶©ì „ê¸°ì— ì¶©ì „ í”„ë¡œíŒŒì¼ì„ ì „ì†¡í•  ìˆ˜ ìˆë‹¤(MAY). ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì´ë¥¼ ìœ„í•´ SetChargingProfile.req PDUë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤(SHALL). ë™ì¼í•œ chargingProfileId ë˜ëŠ” ë™ì¼í•œ stackLevel / ChargingProfilePurpose ì¡°í•©ì„ ê°€ì§„ ì¶©ì „ í”„ë¡œíŒŒì¼ì´ ì¶©ì „ê¸°ì— ì¡´ì¬í•˜ëŠ” ê²½ìš°, ìƒˆ ì¶©ì „ í”„ë¡œíŒŒì¼ì€ ê¸°ì¡´ ì¶©ì „ í”„ë¡œíŒŒì¼ì„ êµì²´í•´ì•¼ í•˜ë©°(SHALL), ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì¶”ê°€ë˜ì–´ì•¼ í•œë‹¤(SHALL).

ê·¸ëŸ° ë‹¤ìŒ ì¶©ì „ê¸°ëŠ” ì–´ë–¤ ì¶©ì „ í”„ë¡œíŒŒì¼ì´ í™œì„±í™”ë ì§€ ê²°ì •í•˜ê¸° ìœ„í•´ ì¶©ì „ í”„ë¡œíŒŒì¼ ëª¨ìŒì„ ì¬í‰ê°€í•´ì•¼ í•œë‹¤(SHALL). ì—…ë°ì´íŠ¸ëœ ì¶©ì „ í”„ë¡œíŒŒì¼ì´ í˜„ì¬ íŠ¸ëœì­ì…˜ì—ë§Œ ì ìš©ë˜ë„ë¡ í•˜ë ¤ë©´, ChargingProfileì˜ chargingProfilePurposeë¥¼ TxProfileë¡œ ì„¤ì •í•´ì•¼ í•œë‹¤(MUST). (Charging Profile Purposes ì„¹ì…˜ ì°¸ì¡°)

### 5.16.4. Setting a charging profile outside of a transaction (íŠ¸ëœì­ì…˜ ì™¸ë¶€ì—ì„œ ì¶©ì „ í”„ë¡œíŒŒì¼ ì„¤ì •)

ì¤‘ì•™ ì‹œìŠ¤í…œì€ ê¸°ë³¸ ì¶©ì „ í”„ë¡œíŒŒì¼ë¡œ ì‚¬ìš©ë  ì¶©ì „ í”„ë¡œíŒŒì¼ì„ ì¶©ì „ê¸°ë¡œ ì „ì†¡í•  ìˆ˜ ìˆë‹¤(MAY). ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì´ë¥¼ ìœ„í•´ SetChargingProfile.req PDUë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤(SHALL). ì´ëŸ¬í•œ ì¶©ì „ í”„ë¡œíŒŒì¼ì€ ì–¸ì œë“ ì§€ ì „ì†¡ë  ìˆ˜ ìˆë‹¤(MAY). ë™ì¼í•œ chargingProfileId ë˜ëŠ” ë™ì¼í•œ stackLevel / ChargingProfilePurpose ì¡°í•©ì„ ê°€ì§„ ì¶©ì „ í”„ë¡œíŒŒì¼ì´ ì¶©ì „ê¸°ì— ì¡´ì¬í•˜ëŠ” ê²½ìš°, ìƒˆ ì¶©ì „ í”„ë¡œíŒŒì¼ì€ ê¸°ì¡´ ì¶©ì „ í”„ë¡œíŒŒì¼ì„ êµì²´í•´ì•¼ í•˜ë©°(SHALL), ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì¶”ê°€ë˜ì–´ì•¼ í•œë‹¤(SHALL). ê·¸ëŸ° ë‹¤ìŒ ì¶©ì „ê¸°ëŠ” ì–´ë–¤ ì¶©ì „ í”„ë¡œíŒŒì¼ì´ í™œì„±í™”ë ì§€ ê²°ì •í•˜ê¸° ìœ„í•´ ì¶©ì „ í”„ë¡œíŒŒì¼ ëª¨ìŒì„ ì¬í‰ê°€í•´ì•¼ í•œë‹¤(SHALL).

> **ì°¸ê³ :** í™œì„± íŠ¸ëœì­ì…˜ì´ ì—†ê±°ë‚˜ íŠ¸ëœì­ì…˜ë³´ë‹¤ ë¨¼ì € ëª©ì ì´ TxProfileë¡œ ì„¤ì •ëœ ChargingProfileì„ ì„¤ì •í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.

> **ì°¸ê³ :** ì‹¤í–‰ ì¤‘ì— ChargingProfileì´ ê°±ì‹ ë˜ëŠ” ê²½ìš°, ChargingProfile ì‚¬ì´ì— ê¸°ë³¸ ì¶©ì „ ë™ì‘ì´ ì—†ë„ë¡ ìƒˆ ChargingProfileì˜ startScheduleì„ ê³¼ê±°ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ê¶Œì¥ëœë‹¤. ì¶©ì „ê¸°ëŠ” ìƒˆ ChargingProfileì´ ì„¤ì¹˜ë  ë•Œê¹Œì§€ ê¸°ì¡´ ChargingProfileì„ ê³„ì† ì‹¤í–‰í•´ì•¼ í•œë‹¤(SHALL).

> **ì°¸ê³ :** chargingSchedulePeriodê°€ durationë³´ë‹¤ ê¸¸ë©´, ë‚˜ë¨¸ì§€ ê¸°ê°„ì€ ì‹¤í–‰ë˜ì–´ì„œëŠ” ì•ˆ ëœë‹¤(SHALL NOT). durationì´ chargingSchedulePeriodë³´ë‹¤ ê¸¸ë©´, ì¶©ì „ê¸°ëŠ” durationì´ ì¢…ë£Œë  ë•Œê¹Œì§€ ë§ˆì§€ë§‰ chargingSchedulePeriodì˜ ê°’ì„ ìœ ì§€í•´ì•¼ í•œë‹¤(SHALL).

> **ì°¸ê³ :** recurrencyKindê°€ ë°˜ë³µ ê¸°ê°„ durationë³´ë‹¤ ê¸´ chargingSchedulePeriod ë°/ë˜ëŠ” durationê³¼ í•¨ê»˜ ì‚¬ìš©ë˜ëŠ” ê²½ìš°, ë‚˜ë¨¸ì§€ ê¸°ê°„ì€ ì‹¤í–‰ë˜ì–´ì„œëŠ” ì•ˆ ëœë‹¤(SHALL NOT).

> **ì°¸ê³ :** chargingScheduleì˜ ì²« ë²ˆì§¸ chargingSchedulePeriodì˜ StartScheduleëŠ” í•­ìƒ 0ì´ì–´ì•¼ í•œë‹¤(SHALL).

> **ì°¸ê³ :** recurrencyKindê°€ recurrencyKind ê¸°ê°„ë³´ë‹¤ ì§§ì€ chargingSchedule durationê³¼ í•¨ê»˜ ì‚¬ìš©ë˜ëŠ” ê²½ìš°, ì¶©ì „ê¸°ëŠ” chargingSchedule durationì´ ì¢…ë£Œëœ í›„ ê¸°ë³¸ ë™ì‘ìœ¼ë¡œ ë˜ëŒì•„ê°€ì•¼ í•œë‹¤(SHALL). ì´ ë˜ëŒì•„ê°€ê¸°ëŠ” ì¶©ì „ê¸°ê°€ ì‚¬ìš© ê°€ëŠ¥í•œ ê²½ìš° ë” ë‚®ì€ stackLevelì„ ê°€ì§„ ChargingProfileì„ ì‚¬ìš©í•´ì•¼ í•¨ì„ ì˜ë¯¸í•œë‹¤(SHALL). ë‹¤ë¥¸ ChargingProfileì„ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ê²½ìš°, ì¶©ì „ê¸°ëŠ” ChargingProfileì´ ì„¤ì¹˜ë˜ì§€ ì•Šì€ ê²ƒì²˜ëŸ¼ ì¶©ì „ì„ í—ˆìš©í•´ì•¼ í•œë‹¤(SHALL). chargingSchedulePeriod ë°/ë˜ëŠ” durationì´ ë°˜ë³µ ê¸°ê°„ durationë³´ë‹¤ ê¸¸ë©´, ë‚˜ë¨¸ì§€ ê¸°ê°„ì€ ì‹¤í–‰ë˜ì–´ì„œëŠ” ì•ˆ ëœë‹¤(SHALL NOT).

## 5.17. Trigger Message (ë©”ì‹œì§€ íŠ¸ë¦¬ê±°)

ì •ìƒ ì‘ë™ ì¤‘ì— ì¶©ì „ê¸°ëŠ” ì¤‘ì•™ ì‹œìŠ¤í…œì— ìƒíƒœ ë° ê´€ë ¨ ë°œìƒ ì‚¬í•­ì„ ì•Œë¦°ë‹¤. ë³´ê³ í•  ë‚´ìš©ì´ ì—†ìœ¼ë©´ ì¶©ì „ê¸°ëŠ” ìµœì†Œí•œ ë¯¸ë¦¬ ì •ì˜ëœ ê°„ê²©ìœ¼ë¡œ heartBeatë¥¼ ì „ì†¡í•œë‹¤. ì •ìƒì ì¸ ìƒí™©ì—ì„œ ì´ê²ƒì€ ë¬¸ì œì—†ì§€ë§Œ, ì¤‘ì•™ ì‹œìŠ¤í…œì´ (ì–´ë–¤ ì´ìœ ë¡œë“ ) ë§ˆì§€ë§‰ìœ¼ë¡œ ì•Œë ¤ì§„ ìƒíƒœë¥¼ ì˜ì‹¬í•  ì´ìœ ê°€ ìˆëŠ” ê²½ìš° ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ? íŒì›¨ì–´ ì—…ë°ì´íŠ¸ê°€ ì§„í–‰ ì¤‘ì´ê³  ì´ì— ëŒ€í•´ ìˆ˜ì‹ í•œ ë§ˆì§€ë§‰ ìƒíƒœ ì•Œë¦¼ì´ í•©ë¦¬ì ìœ¼ë¡œ ì˜ˆìƒí•  ìˆ˜ ìˆëŠ” ê²ƒë³´ë‹¤ í›¨ì”¬ ì˜¤ë˜ ì „ì´ì—ˆë‹¤ë©´ ì¤‘ì•™ ì‹œìŠ¤í…œì€ ë¬´ì—‡ì„ í•  ìˆ˜ ìˆì„ê¹Œ? ì§„ë‹¨ ìš”ì²­ì˜ ì§„í–‰ ìƒí™©ì— ëŒ€í•´ì„œë„ ê°™ì€ ì§ˆë¬¸ì„ í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ìƒí™©ì˜ ë¬¸ì œëŠ” í•„ìš”í•œ ì •ë³´ê°€ ê¸°ì¡´ ë©”ì‹œì§€ì— í¬í•¨ë˜ì–´ ìˆì§€ ì•Šë‹¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë¬¸ì œê°€ ì—„ê²©íˆ íƒ€ì´ë° ë¬¸ì œë¼ëŠ” ê²ƒì´ë‹¤. ì¶©ì „ê¸°ëŠ” ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆì§€ë§Œ ì¤‘ì•™ ì‹œìŠ¤í…œì´ ì—…ë°ì´íŠ¸ë¥¼ ì›í•œë‹¤ëŠ” ê²ƒì„ ì•Œ ë°©ë²•ì´ ì—†ë‹¤.

TriggerMessage.reqëŠ” ì¤‘ì•™ ì‹œìŠ¤í…œì´ ì¶©ì „ê¸°ì— ì¶©ì „ê¸° ì‹œì‘ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ë„ë¡ ìš”ì²­í•  ìˆ˜ ìˆê²Œ í•œë‹¤. ìš”ì²­ì—ì„œ ì¤‘ì•™ ì‹œìŠ¤í…œì€ ìˆ˜ì‹ í•˜ë ¤ëŠ” ë©”ì‹œì§€ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ì´ëŸ¬í•œ ê° ìš”ì²­ ë©”ì‹œì§€ì— ëŒ€í•´ ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì´ ìš”ì²­ì´ ì ìš©ë˜ëŠ” ì»¤ë„¥í„°ë¥¼ ì„ íƒì ìœ¼ë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë‹¤(MAY). ìš”ì²­ëœ ë©”ì‹œì§€ê°€ ìš°ì„ í•œë‹¤: ì§€ì •ëœ connectorIdê°€ ë©”ì‹œì§€ì™€ ê´€ë ¨ì´ ì—†ëŠ” ê²½ìš° ë¬´ì‹œí•´ì•¼ í•œë‹¤. ì´ëŸ¬í•œ ê²½ìš° ìš”ì²­ëœ ë©”ì‹œì§€ëŠ” ì—¬ì „íˆ ì „ì†¡ë˜ì–´ì•¼ í•œë‹¤.

ë°˜ëŒ€ë¡œ, connectorIdê°€ ê´€ë ¨ì´ ìˆì§€ë§Œ ì—†ëŠ” ê²½ìš°, ì´ëŠ” "ëª¨ë“  í—ˆìš©ëœ connectorId ê°’ì— ëŒ€í•´"ë¡œ í•´ì„ë˜ì–´ì•¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, connectorId 0ì— ëŒ€í•œ statusNotification ìš”ì²­ì€ ì¶©ì „ê¸° ìƒíƒœì— ëŒ€í•œ ìš”ì²­ì´ë‹¤. connectorIdê°€ ì—†ëŠ” statusNotification ìš”ì²­ì€ ì—¬ëŸ¬ statusNotificationì— ëŒ€í•œ ìš”ì²­ì´ë‹¤: ì¶©ì „ê¸° ìì²´ì— ëŒ€í•œ ì•Œë¦¼ê³¼ ê° ì»¤ë„¥í„°ì— ëŒ€í•œ ì•Œë¦¼.

ì¶©ì „ê¸°ëŠ” ìš”ì²­ëœ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ê¸° ì „ì— ë¨¼ì € TriggerMessage ì‘ë‹µì„ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL). TriggerMessage.confì—ì„œ ì¶©ì „ê¸°ëŠ” ACCEPTED ë˜ëŠ” REJECTEDë¥¼ ë°˜í™˜í•˜ì—¬ ì „ì†¡ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ì•¼ í•œë‹¤(SHALL). ì „ì†¡ ìš”ì²­ì„ ìˆ˜ë½í• ì§€ ê±°ë¶€í• ì§€ëŠ” ì¶©ì „ê¸°ì— ë‹¬ë ¤ ìˆë‹¤. ìš”ì²­ëœ ë©”ì‹œì§€ë¥¼ ì•Œ ìˆ˜ ì—†ê±°ë‚˜ êµ¬í˜„ë˜ì§€ ì•Šì€ ê²½ìš° ì¶©ì „ê¸°ëŠ” NOT_IMPLEMENTEDë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤(SHALL).

ì¶©ì „ê¸°ê°€ ìˆ˜ë½ëœ ê²ƒìœ¼ë¡œ í‘œì‹œí•œ ë©”ì‹œì§€ëŠ” ì „ì†¡ë˜ì–´ì•¼ í•œë‹¤(SHOULD). ìš”ì²­ì„ ìˆ˜ë½í•˜ê³  ì‹¤ì œë¡œ ìš”ì²­ëœ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ëŠ” ì‚¬ì´ì— ì •ìƒ ì‘ë™ìœ¼ë¡œ ì¸í•´ ë™ì¼í•œ ë©”ì‹œì§€ê°€ ì „ì†¡ë˜ëŠ” ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ê²½ìš° ë°©ê¸ˆ ì „ì†¡ëœ ë©”ì‹œì§€ê°€ ìš”ì²­ì„ ì¤€ìˆ˜í•˜ëŠ” ê²ƒìœ¼ë¡œ ê°„ì£¼ë  ìˆ˜ ìˆë‹¤(MAY).

TriggerMessage ë©”ì»¤ë‹ˆì¦˜ì€ ê³¼ê±° ë°ì´í„°ë¥¼ ê²€ìƒ‰í•˜ê¸° ìœ„í•œ ê²ƒì´ ì•„ë‹ˆë‹¤. íŠ¸ë¦¬ê±°í•˜ëŠ” ë©”ì‹œì§€ëŠ” í˜„ì¬ ì •ë³´ë§Œ ì œê³µí•´ì•¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ íŠ¸ë¦¬ê±°ëœ MeterValues.req ë©”ì‹œì§€ëŠ” êµ¬ì„± í‚¤ MeterValuesSampledDataì— êµ¬ì„±ëœ ëª¨ë“  ì¸¡ì •ê°’ì— ëŒ€í•œ ê°€ì¥ ìµœê·¼ ì¸¡ì •ê°’ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤(SHALL).

StartTransaction ë° StopTransactionì€ ìƒíƒœì™€ ê´€ë ¨ì´ ì—†ê³  ë³¸ì§ˆì ìœ¼ë¡œ ì „í™˜ì„ ì„¤ëª…í•˜ê¸° ë•Œë¬¸ì— ì´ ë©”ì»¤ë‹ˆì¦˜ì—ì„œ ì œì™¸ë˜ì—ˆë‹¤.

## 5.18. Unlock Connector (ì»¤ë„¥í„° ì ê¸ˆ í•´ì œ)

ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì— ì»¤ë„¥í„° ì ê¸ˆ í•´ì œë¥¼ ìš”ì²­í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ ìœ„í•´ ì¤‘ì•™ ì‹œìŠ¤í…œì€ UnlockConnector.req PDUë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL).

ì´ ë©”ì‹œì§€ì˜ ëª©ì : ì»¤ë„¥í„° ì¼€ì´ë¸” ê³ ì • ì¥ì¹˜ì˜ ì˜¤ì‘ë™ìœ¼ë¡œ ì¶©ì „ê¸°ì—ì„œ ì¼€ì´ë¸”ì„ ë½‘ëŠ” ë° ë¬¸ì œê°€ ìˆëŠ” EV ìš´ì „ìë¥¼ ë•ëŠ” ê²ƒì´ë‹¤. EV ìš´ì „ìê°€ CPO í—¬í”„ ë°ìŠ¤í¬ì— ì „í™”í•  ë•Œ, ìš´ì˜ìëŠ” ì¶©ì „ê¸°ì— UnlockConnector.req ì „ì†¡ì„ ìˆ˜ë™ìœ¼ë¡œ íŠ¸ë¦¬ê±°í•˜ì—¬ ì»¤ë„¥í„°ë¥¼ ì ê¸ˆ í•´ì œí•˜ëŠ” ìƒˆë¡œìš´ ì‹œë„ë¥¼ ê°•ì œí•  ìˆ˜ ìˆë‹¤. ì´ë²ˆì—ëŠ” ì»¤ë„¥í„°ê°€ ì ê¸ˆ í•´ì œë˜ê³  EV ìš´ì „ìê°€ ì¼€ì´ë¸”ì„ ë½‘ê³  ìš´ì „í•  ìˆ˜ ìˆê¸°ë¥¼ ë°”ë€ë‹¤.

UnlockConnector.reqëŠ” ì‹¤í–‰ ì¤‘ì¸ íŠ¸ëœì­ì…˜ì„ ì›ê²©ìœ¼ë¡œ ì¤‘ì§€í•˜ëŠ” ë° ì‚¬ìš©ë˜ì–´ì„œëŠ” ì•ˆ ëœë‹¤(SHOULD NOT). ëŒ€ì‹  Remote Stop Transactionì„ ì‚¬ìš©í•˜ë¼.

UnlockConnector.req PDUë¥¼ ìˆ˜ì‹ í•˜ë©´, ì¶©ì „ê¸°ëŠ” UnlockConnector.conf PDUë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL). ì‘ë‹µ PDUëŠ” ì¶©ì „ê¸°ê°€ ì»¤ë„¥í„°ë¥¼ ì ê¸ˆ í•´ì œí•  ìˆ˜ ìˆì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ì•¼ í•œë‹¤(SHALL).

íŠ¹ì • ì»¤ë„¥í„°ì—ì„œ íŠ¸ëœì­ì…˜ì´ ì§„í–‰ ì¤‘ì´ì—ˆë‹¤ë©´, ì¶©ì „ê¸°ëŠ” Stop Transactionì— ì„¤ëª…ëœ ëŒ€ë¡œ ë¨¼ì € íŠ¸ëœì­ì…˜ì„ ì™„ë£Œí•´ì•¼ í•œë‹¤(SHALL).

> **ì°¸ê³ :** UnlockConnector.reqëŠ” ì»¤ë„¥í„°ì˜ ì¼€ì´ë¸” ê³ ì • ì ê¸ˆì¥ì¹˜ë¥¼ ì ê¸ˆ í•´ì œí•˜ê¸° ìœ„í•œ ê²ƒì´ë©°, ì»¤ë„¥í„° ì ‘ê·¼ ë„ì–´ë¥¼ ì ê¸ˆ í•´ì œí•˜ê¸° ìœ„í•œ ê²ƒì´ ì•„ë‹ˆë‹¤.

## 5.19. Update Firmware (íŒì›¨ì–´ ì—…ë°ì´íŠ¸)

ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì— íŒì›¨ì–´ë¥¼ ì—…ë°ì´íŠ¸í•´ì•¼ í•¨ì„ ì•Œë¦´ ìˆ˜ ìˆë‹¤. ì¤‘ì•™ ì‹œìŠ¤í…œì€ ì¶©ì „ê¸°ì— ìƒˆ íŒì›¨ì–´ë¥¼ ì„¤ì¹˜í•˜ë„ë¡ ì§€ì‹œí•˜ê¸° ìœ„í•´ UpdateFirmware.req PDUë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤(SHALL). PDUëŠ” ì¶©ì „ê¸°ê°€ ìƒˆ íŒì›¨ì–´ë¥¼ ê²€ìƒ‰í•  ìˆ˜ ìˆëŠ” ë‚ ì§œ ë° ì‹œê°„ê³¼ íŒì›¨ì–´ë¥¼ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆëŠ” ìœ„ì¹˜ë¥¼ í¬í•¨í•´ì•¼ í•œë‹¤(SHALL).

UpdateFirmware.req PDUë¥¼ ìˆ˜ì‹ í•˜ë©´, ì¶©ì „ê¸°ëŠ” UpdateFirmware.conf PDUë¡œ ì‘ë‹µí•´ì•¼ í•œë‹¤(SHALL). ì¶©ì „ê¸°ëŠ” retrieve-date ì´í›„ ê°€ëŠ¥í•œ í•œ ë¹¨ë¦¬ íŒì›¨ì–´ ê²€ìƒ‰ì„ ì‹œì‘í•´ì•¼ í•œë‹¤(SHOULD).

íŒì›¨ì–´ ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜ ì¤‘ì—, ì¶©ì „ê¸°ëŠ” ì—…ë°ì´íŠ¸ í”„ë¡œì„¸ìŠ¤ì˜ ìƒíƒœë¡œ ì¤‘ì•™ ì‹œìŠ¤í…œì„ ì—…ë°ì´íŠ¸í•˜ê¸° ìœ„í•´ FirmwareStatusNotification.req PDUë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤(MUST).

ì¶©ì „ê¸°ëŠ” ìƒˆ íŒì›¨ì–´ ì´ë¯¸ì§€ê°€ "ìœ íš¨í•œ" ê²½ìš°, ê°€ëŠ¥í•œ í•œ ë¹¨ë¦¬ ìƒˆ íŒì›¨ì–´ë¥¼ ì„¤ì¹˜í•´ì•¼ í•œë‹¤(SHALL).

íŒì›¨ì–´ ì„¤ì¹˜ ì¤‘ì— ì¶©ì „ì„ ê³„ì†í•  ìˆ˜ ì—†ëŠ” ê²½ìš°, ì„¤ì¹˜ë¥¼ ì‹œì‘í•˜ê¸° ì „ì— ì¶©ì „ ì„¸ì…˜ì´ ì¢…ë£Œë  ë•Œê¹Œì§€(ì¶©ì „ê¸° ìœ íœ´) ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì´ ê¶Œì¥ëœë‹¤(RECOMMENDED). ì„¸ì…˜ì´ ì¢…ë£Œë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ ì‚¬ìš© ì¤‘ì´ ì•„ë‹Œ ì»¤ë„¥í„°ë¥¼ UNAVAILABLEë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ê¶Œì¥ëœë‹¤(RECOMMENDED).

> **ì°¸ê³ :** ìœ„ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ì€ ì˜ˆì‹œì´ë‹¤. ìƒˆ íŒì›¨ì–´ê°€ ë¶€íŒ…ë˜ê³  ì¤‘ì•™ ì‹œìŠ¤í…œì— ì—°ê²°í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ìƒíƒœ: Installedë¥¼ ì „ì†¡í•˜ê¸° ì „ì— ë¨¼ì € ì¶©ì „ê¸°ë¥¼ ì¬ë¶€íŒ…í•˜ëŠ” ê²ƒì´ ì¢‹ì€ ê´€í–‰ì´ë‹¤. ì´ê²ƒì€ ìš”êµ¬ ì‚¬í•­ì´ ì•„ë‹ˆë‹¤.

